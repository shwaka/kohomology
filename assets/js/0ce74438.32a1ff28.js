"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[365],{99:(e,t,r)=>{r.d(t,{M:()=>s});var n=r(6500);function s(e){return n.z.preprocess((e=>{if(!Number.isNaN(e))return e}),n.z.number({error:t=>void 0===t.input?e:void 0}))}},560:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ke});var n=r(8871),s=r(9785),o=r(6500),i=r(99),a=r(4848);const l=o.z.object({number:o.z.number(),numberSchemaWithRequiredError:(0,i.M)("Please enter the value!!!")}),d=["number","numberSchemaWithRequiredError"];function u({valueAsNumber:e}){const{register:t,handleSubmit:r,getValues:o,formState:{errors:i}}=(0,s.mN)({resolver:(0,n.u)(l),mode:"onChange",reValidateMode:"onChange"});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{children:["valueAsNumber: ",String(e)]}),(0,a.jsx)("ul",{children:d.map((r=>(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:r}),(0,a.jsx)("input",{type:"number",...t(r,{valueAsNumber:e})}),o()[r]," (",typeof o()[r],")",i[r]&&(0,a.jsx)("span",{style:{color:"red"},children:i[r].message})]},r)))}),(0,a.jsx)("button",{onClick:r((()=>{console.log("Submit success")})),children:"Submit (to validate)"})]})}function c(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{valueAsNumber:!0}),(0,a.jsx)(u,{valueAsNumber:!1})]})}var p=r(6398),m=r(6540),g=r(6036),x=r(8908),h=r(5159);const f=o.z.object({name:o.z.string().nonempty(),degree:o.z.number().positive()}),b=o.z.array(f),y=o.z.object({distinct:o.z.null()});const v={getGlobalErrors:function(e){const t=e._global_errors;if(void 0===t)return[];const r=Object.keys(y.shape);return r.map((e=>t[e]))},getNext:function(e){return{name:(0,h.b)({usedValues:e.map((e=>e.name)),candidates:"xyzuvw".split(""),fallback:""}),degree:1}},schema:o.z.object({indeterminateArray:b,_global_errors:y.optional()}).check((e=>{var t,r,n;t=e.value.indeterminateArray,r=e.issues,n=t.map((e=>e.name)),new Set(n).size!==n.length&&r.push({input:t,path:["_global_errors","distinct"],code:"custom",message:"Indeterminates must have distinct names.",continue:!0})})),arrayKey:"indeterminateArray"};const j=[{key:"name",label:"indeterminate",width:90,getRegisterName:e=>`indeterminateArray.${e}.name`,isError:(e,t)=>k({errors:e,index:t,key:"name"})},{key:"degree",label:"degree",width:90,type:"number",valueAsNumber:!0,getRegisterName:e=>`indeterminateArray.${e}.degree`,isError:(e,t)=>k({errors:e,index:t,key:"degree"})}];function k({errors:e,index:t,key:r}){const n=e.indeterminateArray?.[t]?.[r];return void 0!==n}function w(e){return(0,x.W)({...e,...v,fieldOptionsList:j,getFieldErrorArray:C})}function C({errors:e,index:t}){const r=e.indeterminateArray?.[t];return void 0===r?[]:["name","degree"].flatMap((e=>r[e]))}const A={indeterminateArray:[{name:"x",degree:1}]};function S(){const[e,t]=(0,m.useState)(A),r=w({defaultValues:e,setValues:t}),{editorDialogProps:n,openDialog:s}=(0,g.$n)({editor:r});return(0,a.jsxs)("div",{children:[(0,a.jsx)(g.qC,{...n}),(0,a.jsx)("button",{onClick:s,children:"Open dialog"}),(0,a.jsx)("button",{onClick:()=>t(A),children:"Reset"}),(0,a.jsx)("div",{style:{whiteSpace:"pre",fontFamily:"monospace"},children:JSON.stringify(e,void 0,2)})]})}const T='[\n  {\n    "name": "x",\n    "degree": 1\n  }\n]';function E(){const[e,t]=(0,m.useState)(T),r=(0,g.Qu)({text:e,setText:t,preventPrompt:"Do you really want to quit?",fieldLabel:"JSON",validate:R}),n=w({defaultValues:{indeterminateArray:D(e)},setValues:e=>{return t((r=e.indeterminateArray,JSON.stringify(r,void 0,2)));var r}}),s=(0,g.KD)({tabItems:{array:{label:"Array",editor:n},json:{label:"JSON",editor:r}},tabKeys:["array","json"],defaultTabKey:"array"}),{editorDialogProps:o,openDialog:i}=(0,g.$n)({editor:s});return(0,a.jsxs)("div",{children:[(0,a.jsx)(g.qC,{...o}),(0,a.jsx)("button",{onClick:i,children:"Open dialog"}),(0,a.jsx)("button",{onClick:()=>t(T),children:"Reset"}),(0,a.jsx)("div",{style:{whiteSpace:"pre",fontFamily:"monospace"},children:e})]})}function D(e){const t=M(e);switch(t.type){case"success":return b.parse(t.value);case"error":return[]}}function M(e){try{return{type:"success",value:JSON.parse(e)}}catch(t){return t instanceof Error?{type:"error",message:t.message}:{type:"error",message:`Unknown error: ${t}`}}}function R(e){const t=M(e);switch(t.type){case"success":return!0;case"error":return t.message}}var W=r(1450);function _(){const[e,t]=(0,m.useState)("Default text"),r=(0,W.Q)({text:e,setText:t,preventPrompt:"Do you really want to quit?",fieldLabel:"Text field",fieldTestid:"text-field",validate:e=>0!==e.length||"This field is required."}),{editorDialogProps:n,openDialog:s}=(0,g.$n)({editor:r});return(0,a.jsxs)("div",{children:[(0,a.jsx)(g.qC,{...n}),(0,a.jsx)("button",{onClick:s,children:"Open dialog"}),(0,a.jsx)("button",{onClick:()=>t("This is a text from container."),children:"Set text"}),(0,a.jsx)("div",{"data-testid":"text-div",children:e})]})}var O=r(7472),P=r(8445);const L=(0,O.Q)((()=>new Worker(new URL(r.p+r.u(166),r.b))));function N(){return(0,a.jsxs)(L.Provider,{defaultState:{value:0},children:[(0,a.jsx)(F,{}),(0,a.jsx)(P.C,{context:L})]})}function F(){const{postMessage:e}=(0,O.q)(L);return(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>e({value:1}),children:"Add 1"})})}var V=r(1241),z=r(8145);function $(){const{count:e,increment:t,decrement:r}=function(){const[e,t]=(0,m.useState)(0);return{count:e,increment:(0,m.useCallback)((()=>{t((e=>e+1))}),[t]),decrement:(0,m.useCallback)((()=>{t((e=>e-1))}),[t])}}(),n=V.a(0,e).map((e=>({message:`Message-${e}`,type:`type-${e}`})));return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["count: ",e]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:t,children:"increment"}),(0,a.jsx)("button",{onClick:r,children:"decrement"})]}),(0,a.jsx)(z.D,{messages:n}),(0,a.jsx)("div",{children:"Text below error"})]})}var K=r(5994);function Q({draggableProps:e,index:t,formData:{register:r,errors:n,remove:s,trigger:o}}){return(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",...r(`personArray.${t}.name`),onBlur:()=>o()}),(0,a.jsx)("input",{type:"number",...r(`personArray.${t}.age`,{valueAsNumber:!0}),onBlur:()=>o()}),(0,a.jsx)("button",{onClick:async()=>{s(t),await o()},children:"Delete"}),(0,a.jsx)("span",{...e,style:{border:"1px solid gray",margin:"0 5px",cursor:"grab",touchAction:"none"},children:"move"}),(0,a.jsx)("span",{children:B(n,t).map((e=>(0,a.jsx)("span",{style:{color:"red",border:"1px solid red",margin:"0 5px"},children:e},t)))})]})}function B(e,t){const r=e.personArray?.[t];if(void 0===r)return[];const n=[];return void 0!==r.name?.message&&n.push(r.name.message),void 0!==r.age?.message&&n.push(r.age.message),n}var q=r(4083);const I=o.z.object({name:o.z.string().nonempty(),age:o.z.number().nonnegative()}),J=o.z.array(I),G=o.z.object({totalAge:o.z.null()}),H=o.z.object({personArray:J,_global_errors:G.optional()}).check((e=>{!function(e,t){const r=(0,q.a)(e,(e=>e.age));r<U&&t.push({input:e,path:["_global_errors","totalAge"],code:"custom",message:`The sum of person.age must be at least {minTotalAge}, but was ${r}`,continue:!0})}(e.value.personArray,e.issues)})),U=300;function Y(){const{handleSubmit:e,register:t,getValues:r,trigger:o,control:i,formState:{errors:l,isValid:d}}=(0,s.mN)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:{personArray:[{name:"Bourbaki",age:100}]},resolver:(0,n.u)(H)}),{fields:u,append:c,remove:p,move:m}=(0,s.jz)({control:i,name:"personArray"}),g={register:t,remove:p,errors:l,getValues:r,trigger:o};return(0,a.jsxs)("div",{children:[(0,a.jsx)(K.K,{RowComponent:Q,Container:({children:e})=>(0,a.jsx)("div",{children:e}),externalData:void 0,fields:u,move:m,formData:g}),void 0!==l._global_errors?.totalAge&&(0,a.jsx)("div",{style:{color:"red",border:"1px solid red"},children:l._global_errors.totalAge.message}),(0,a.jsx)("button",{onClick:async()=>{c({name:`person-${u.length}`,age:100}),await o()},children:"Add row"}),(0,a.jsx)("button",{onClick:e((({personArray:e})=>{window.alert(function(e){return e.map((e=>`name: ${e.name}, age: ${e.age}`)).join("\n")}(e))})),disabled:!d,children:"Submit"})]})}var Z=r(2137);const X=(0,O.Q)((()=>new Worker(new URL(r.p+r.u(283),r.b))));function ee({log:e,testid:t}){return(0,a.jsxs)("div",{"data-testid":t,style:{border:"1px solid gray"},children:[(0,a.jsx)("div",{children:"Log of MessageOutput"}),e.map(((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"output"===e.type?e.value.result:"no value"}),(0,a.jsx)("span",{style:{color:"gray"},children:JSON.stringify(e)})]},t)))]})}function te({log:e,testid:t}){return(0,a.jsxs)("div",{"data-testid":t,style:{border:"1px solid gray"},children:[(0,a.jsx)("div",{children:"Log of WorkerOutput from listner"}),e.map(((e,t)=>(0,a.jsx)("div",{children:e.result},t)))]})}function re(){const{postMessage:e,addListener:t,workerOutputLog:r,state:{value:n},runAsync:s}=(0,Z.q)(X),[o,i]=(0,m.useState)([]),[l,d]=(0,m.useState)(0);return(0,m.useEffect)((()=>{t("MyComponent",(e=>i((t=>[...t,e]))))}),[t,o,i]),(0,a.jsxs)("div",{"data-testid":"my-component",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:async()=>{const e=await s("add",[5]);d(e)},"data-testid":"runAsync-add5",children:"Add 5"}),(0,a.jsx)("div",{"data-testid":"show-runAsyncResult",children:`runAsyncResult=${l}`})]}),(0,a.jsx)("div",{"data-testid":"show-state-value",children:`stateValue=${n}`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>e({value:3}),"data-testid":"add3",children:"Add 3"}),(0,a.jsx)(ee,{log:r,testid:"show-workerOutputLog"}),(0,a.jsx)(te,{log:o,testid:"show-log-from-listener"})]})]})}function ne(){return(0,a.jsx)(X.Provider,{defaultState:{value:0},children:(0,a.jsx)(re,{})})}var se=r(3468),oe=r(4731),ie=r(1896),ae=r(6754),le=r(7635);se.t1.register(se.PP,se.kc,se.FN,se.No,se.m_,se.s$,se.hE,se.ZT,se.Pz,se.dN);const de=[{name:"Windows 95",version:95,url:"https://en.wikipedia.org/wiki/Windows_95",year:95},{name:"Windows 98",version:98,url:"https://en.wikipedia.org/wiki/Windows_98",year:98},{name:"Windows 2000",version:2e3,url:"https://en.wikipedia.org/wiki/Windows_2000",year:2e3},{name:"Windows 7",version:7,url:"https://en.wikipedia.org/wiki/Windows_7",year:2009},{name:"Windows 8",version:8,url:"https://en.wikipedia.org/wiki/Windows_8",year:2012},{name:"Windows 10",version:10,url:"https://en.wikipedia.org/wiki/Windows_10",year:2015},{name:"Windows 11",version:11,url:"https://en.wikipedia.org/wiki/Windows_11",year:2021}];function ue(){const{rangeSliderProps:e,isSelected:t}=(0,ae.J)({items:de,getValue:e=>e.year,getLabel:(e,t)=>`[${t}] ${e.name}`}),r=de.filter(t),{renderTooltip:n,onClick:s}=(0,le.f)({dataset:r,TooltipContent:({item:e})=>(0,a.jsx)("div",{children:(0,a.jsx)("span",{children:e.name})}),globalData:void 0}),o=(0,ie.r)({datasetLabel:"Windows",color:"#4488cc",xTitle:"version name",yTitle:"version number",dataset:r,getValue:e=>({x:e.name,y:e.version}),labels:["Invalid name"].concat(r.map((e=>e.name))),labelToTick:e=>`[${e}]`,onClick:s});return(0,a.jsxs)("div",{style:{maxWidth:"800px"},children:[(0,a.jsx)(ae.F,{...e}),(0,a.jsx)(oe.t1,{...o}),n()]})}var ce=r(8478),pe=r(5916);function me({candidates:e,defaultValue:t,name:r}){const[n,s]=(0,m.useState)(t),o=(0,m.useCallback)((()=>(0,a.jsxs)("span",{children:[r,":",e.map((e=>(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{type:"radio",value:e,checked:e===n,onChange:e=>s(e.target.value)}),e]},e)))]})),[r,e,n,s]);return{value:n,renderRadio:o}}function ge({children:e,width:t,padding:r}){return(0,a.jsx)("div",{style:{padding:"10px",boxSizing:"border-box"},children:(0,a.jsx)("div",{style:{width:t,border:"1px solid gray",boxSizing:"border-box",padding:r},children:e})})}function xe(e,t){return e.includes(t)}function he(e){const t=e[0],[r,n]=function(e,t){const[r,n]=(0,m.useState)((()=>{const r=localStorage.getItem(e);return null===r?t:r}));return(0,m.useEffect)((()=>{localStorage.setItem(e,r)}),[e,r]),[r,n]}("tab-key",t);return[xe(e,r)?r:t,(0,m.useCallback)((t=>{if(!xe(e,t))throw new Error(`${t} is not a valid key for PlaygroundTab`);n(t)}),[n,e])]}function fe(e){const t=function(e){return e.map((e=>e.key))}(e),[r,n]=he(t),s=function(e,t){for(const r of e)if(r.key===t)return r;throw new Error(`No tab found for key ${t}`)}(e,r);return{renderSelect:()=>(0,a.jsx)("select",{value:r,onChange:e=>n(e.target.value),children:e.map((e=>(0,a.jsx)("option",{value:e.key,children:e.name},e.key)))}),renderTabs:()=>s.render()}}const be=[{key:"show-errors",name:"ShowErrors",render:()=>(0,a.jsx)($,{})},{key:"sortable-fields",name:"SortableFields",render:()=>(0,a.jsx)(Y,{})},{key:"message-box",name:"Worker: MessageBoxForWorker",render:()=>(0,a.jsx)(N,{})},{key:"my-worker",name:"Worker: MyWorker",render:()=>(0,a.jsx)(ne,{})},{key:"text-editor",name:"Editor: TextEditor",render:()=>(0,a.jsx)(_,{})},{key:"array-editor",name:"Editor: ArrayEditor",render:()=>(0,a.jsx)(S,{})},{key:"tab-editor",name:"Editor: TabEditor",render:()=>(0,a.jsx)(E,{})},{key:"number-schema",name:"NumberSchema",render:()=>(0,a.jsx)(c,{})},{key:"chart",name:"Chart",render:()=>(0,a.jsx)(ue,{})}];function ye(){const{renderSelect:e,renderTabs:t}=fe(be),{props:r,renderControl:n}=function(){const{value:e,renderRadio:t}=me({name:"width",candidates:["30%","50%","90%","100%"],defaultValue:"100%"}),{value:r,renderRadio:n}=me({name:"padding",candidates:["0px","1px","3px","5px","10px"],defaultValue:"5px"});return{props:{width:e,padding:r},renderControl:(0,m.useCallback)((()=>(0,a.jsx)("div",{children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:t()}),(0,a.jsx)("li",{children:n()})]})})),[t,n])}}(),s=(0,p.Q)();return(0,a.jsx)(pe.A,{theme:s,children:(0,a.jsxs)("div",{children:["This is playground.",e(),n(),(0,a.jsx)(ge,{...r,children:t()})]})})}function ve(){return(0,a.jsx)(ce.A,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:()=>(0,a.jsx)(ye,{})})}var je=r(6944);function ke(){return(0,a.jsx)(je.A,{title:"Playground",children:(0,a.jsx)(ve,{})})}},723:(e,t,r)=>{r.d(t,{d:()=>s});var n=r(6540);function s(){const e=(0,n.useRef)(null);return(0,n.useCallback)(((t,r)=>{null!==e.current&&clearTimeout(e.current);const n=setTimeout(t,r);e.current=n}),[])}},1450:(e,t,r)=>{r.d(t,{Q:()=>p});var n=r(9785),s=r(6540),o=r(2608),i=r(2007),a=r(3581),l=r(723),d=r(4848);function u({register:e,errors:t,fieldLabel:r,fieldTestid:n,validate:u,trigger:p}){const m=(0,l.d)(),g=(0,s.useCallback)((()=>m((async()=>await p()),1e3)),[m,p]);return(0,d.jsxs)(i.A,{spacing:2,sx:{marginTop:1},children:[(0,d.jsx)(a.A,{label:r,multiline:!0,inputProps:void 0!==n?{"data-testid":n}:void 0,...e("text",{validate:u,onChange:g}),error:void 0!==t.text}),(0,d.jsx)(o.J,{fieldErrorArray:c(t)})]})}function c(e){const t=e.text;return void 0===t?[]:[t]}function p({text:e,setText:t,preventPrompt:r,fieldLabel:s,fieldTestid:o,validate:i}){const{register:a,handleSubmit:l,getValues:c,reset:p,trigger:m,formState:{errors:g}}=(0,n.mN)({mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!1,defaultValues:{text:e}});const x={register:a,errors:g,trigger:m,fieldLabel:s,fieldTestid:o,validate:i};return{preventQuit:function(){return c().text!==e?r:void 0},getOnSubmit:function(e){return l((({text:r})=>{t(r),e()}))},beforeOpen:function(){p({text:e})},disableSubmit:function(){return void 0!==g.text},renderContent:e=>(0,d.jsx)(u,{...x})}}},1896:(e,t,r)=>{function n({datasetLabel:e,color:t,xTitle:r,yTitle:n,dataset:s,getValue:o,labels:i,labelToTick:a,onClick:l}){return{type:"line",data:{labels:i,datasets:[{label:e,data:s.map(o),borderColor:t,backgroundColor:t+"60",fill:!0,tension:.2}]},options:{scales:{x:{type:"category",title:{display:!0,text:r},ticks:{callback:function(e){if("string"==typeof e)throw new Error("This can't happen!");const t=this.getLabelForValue(e);return a(t)}}},y:{title:{display:!0,text:n},suggestedMin:0}},plugins:{tooltip:{enabled:!1}},onClick:l}}}r.d(t,{r:()=>n})},2137:(e,t,r)=>{r.d(t,{q:()=>o});var n=r(6540),s=r(9888);function o(e){const t=(0,n.useContext)(e.reactContext),[r,o]=(0,n.useContext)(e.stateContext);(0,n.useEffect)((()=>{t.subscribe("__set_worker_state__",(e=>{const t=function(e){return"updateState"===e.type}(r=e)?{[r.key]:r.value}:null;var r;null!==t&&o((e=>({...e,...t})))}))}),[t,o]);const a=(0,n.useCallback)((e=>{const r="__useSyncExternalStore__";return t.subscribe(r,e),()=>t.unsubscribe(r)}),[t]),l=(0,n.useCallback)((()=>t.workerOutputLog),[t]),d=(0,s.useSyncExternalStore)(a,l),u=(0,n.useCallback)((e=>{const r={type:"input",value:e};t.postMessage(r)}),[t]),c=(0,n.useCallback)(((e,r)=>{t.subscribe(e,(e=>{"output"===e.type&&r(e.value)}))}),[t]),p=(0,n.useCallback)(((e,r)=>{t.subscribeRestart(e,r)}),[t]);return{postMessage:u,workerOutputLog:d,addListener:c,restart:(0,n.useCallback)((()=>t.restart()),[t]),addRestartListener:p,state:r,runAsync:(0,n.useCallback)((async(e,r)=>{const n=function(){const e=20,t=i.length,r=[];for(let n=0;n<e;n++)r.push(i.charAt(Math.floor(Math.random()*t)));return r.join("")}(),s={type:"callFunc",key:e,args:r,id:n},o=`runAsync-${n}`,a=new Promise(((r,s)=>{t.subscribe(o,(s=>{"funcResult"===s.type&&s.key===e&&s.id===n&&(t.unsubscribe(o),r(s.result))}))}));return t.postMessage(s),a}),[t])}}const i="0123456789abcdef"},2608:(e,t,r)=>{function n(e){if(void 0===e)return[];const t=e?.message;if(void 0===t)return[];return[{type:e.type,message:t}]}function s(e){const t=e?.types;return void 0===t?n(e):Object.entries(t).map((([e,t])=>({type:e,message:o(t)})))}function o(e){return void 0===e||"string"==typeof e?e:"boolean"==typeof e?e?void 0:"Unknown error":e.join("\n")}r.d(t,{J:()=>l,_:()=>i._});var i=r(8145),a=r(4848);function l({fieldErrorArray:e,criteriaMode:t="firstError"}){const r=function({fieldErrorArray:e,criteriaMode:t}){switch(t){case"all":return e.flatMap(s);case"firstError":return e.flatMap(n)}}({fieldErrorArray:e,criteriaMode:t});return(0,a.jsx)(i.D,{messages:r})}},2679:(e,t,r)=>{r.d(t,{hM:()=>n,sH:()=>o,t_:()=>s});const n=["text","math"],s=["success","error"];function o(e,t){return{messageType:e,strings:[{stringType:"text",content:t}],plainString:t,options:[{text:t,label:"Copy this line"}]}}},3030:(e,t,r)=>{r.d(t,{Q:()=>y});var n=r(6540),s=r(4083);function o(e){return 1}var i=r(5293),a=r(5044),l=r(4671),d=r(6978),u=r(421),c=r(4848);function p({containerClass:e,handleClick:t,handleClose:r,open:s,anchorEl:o,options:i,showAll:p}){return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(l.A,{size:"small",onClick:t,sx:{paddingTop:0,paddingBottom:0,position:"absolute",bottom:"4px",right:0,visibility:"hidden",[`.${e}:hover &`]:{visibility:"visible"}},"data-testid":"OptionsButton",children:(0,c.jsx)(a.A,{fontSize:"small"})}),(0,c.jsxs)(d.A,{anchorEl:o,open:s,onClose:r,children:[i.map((e=>(0,c.jsx)(m,{text:e.text,label:e.label,handleClose:r},e.label))),(0,c.jsx)(u.A,{onClick:()=>{p(),r()},children:"Show all"})]})]})}function m({text:e,label:t,handleClose:r}){return(0,c.jsx)(u.A,{onClick:async()=>{null!==e&&await navigator.clipboard.writeText(e),r()},disabled:null===e,children:t})}var g=r(2259);function x({content:e}){const t=e.split("\n");return(0,c.jsx)("span",{children:t.map(((e,r)=>r<t.length-1?(0,c.jsxs)(n.Fragment,{children:[e,(0,c.jsx)("br",{})]},r):(0,c.jsx)(n.Fragment,{children:e},r)))})}function h({styledString:e}){const t={"\\deg":"|#1|"};switch(e.stringType){case"text":return(0,c.jsx)(x,{content:e.content});case"math":return(0,c.jsx)(g.A,{math:e.content,settings:{output:"html",macros:t}})}}function f(e){switch(e){case"light":return"aquamarine";case"dark":return"darkslateblue"}}function b(e){switch(e){case"light":return"peachpuff";case"dark":return"darkred"}}function y({styledMessage:e}){const t="show-styled-message",{visibleItems:r,commands:{showAll:a},isTruncated:l}=function(e,{minWeight:t,step:r,getWeight:i=o}){const[a,l]=(0,n.useState)(t),d=(0,n.useMemo)((()=>s.a(e,i)),[e,i]),u=(0,n.useMemo)((()=>function(e,t,r){const n=[];let s=0;for(const o of e){const e=r(o);if(!(s+e<=t))break;n.push(o),s+=e}return n}(e,a,i)),[e,a,i]),c=e.length,p=u.length,m=p<c,g=(0,n.useCallback)((()=>{l((e=>Math.min(e+r,d)))}),[r,d]),x=(0,n.useCallback)((()=>{l((e=>Math.min(e-r,d)))}),[r,d]),h=(0,n.useCallback)((()=>{l(d)}),[d]),f=(0,n.useCallback)((()=>{l(t)}),[t]),b=a<d,y=a>t;return{visibleItems:u,visibleCount:p,isTruncated:m,commands:{showMore:g,showLess:x,showAll:h,showMin:f},availableCommands:{showMore:b,showLess:y,showAll:b,showMin:y}}}(e.strings,{minWeight:300,step:100,getWeight:e=>e.content.replace(/\\[a-zA-Z]+/g,"").replace(/[{}^_ ]/g,"").length}),{optionsButtonProps:d,open:u}=function({containerClass:e,options:t,showAll:r}){const[s,o]=(0,n.useState)(null),i=Boolean(s);return{optionsButtonProps:{containerClass:e,handleClick:e=>{o(e.currentTarget)},handleClose:()=>{o(null)},open:i,anchorEl:s,options:t,showAll:r},open:i}}({containerClass:t,options:e.options,showAll:a}),m=function(e,t){const{colorMode:r}=(0,i.G)();if(t)return{background:f(r)};switch(e){case"success":return{};case"error":return{background:b(r)}}}(e.messageType,u);return(0,c.jsxs)("div",{className:t,"data-styled-message":e.plainString,"data-testid":"show-styled-message",style:{...m,borderBottom:"1px solid lightGray",position:"relative"},children:[r.map(((e,t)=>(0,c.jsx)(h,{styledString:e},t))),l&&(0,c.jsx)("span",{children:"..."}),(0,c.jsx)(p,{...d})]})}},4238:(e,t,r)=>{r.d(t,{C:()=>s});var n=r(4675);function s(){return(0,n.A)().breakpoints.down("sm")}},5159:(e,t,r)=>{function n({usedValues:e,candidates:t,fallback:r}){for(const n of t)if(!e.includes(n))return n;return r}r.d(t,{b:()=>n})},5994:(e,t,r)=>{r.d(t,{K:()=>d});var n=r(2790),s=r(8831),o=r(3627),i=r(4979),a=r(4848);function l({id:e,RowComponent:t,index:r,formData:n,externalData:s}){const{attributes:l,listeners:d,setNodeRef:u,transform:c,transition:p}=(0,o.gl)({id:e}),m={transform:i.Ks.Transform.toString(c),transition:p},g={draggableProps:{...l,...d},index:r,formData:n,externalData:s};return(0,a.jsx)("div",{ref:u,style:m,children:(0,a.jsx)(t,{...g})})}function d({fields:e,move:t,formData:r,RowComponent:i,Container:d,externalData:u}){const c=(0,n.FR)((0,n.MS)(n.AN),(0,n.MS)(n.uN,{coordinateGetter:o.JR})),{trigger:p}=r;return(0,a.jsx)(d,{children:(0,a.jsx)(n.Mp,{sensors:c,collisionDetection:n.fp,onDragEnd:async function({active:r,over:n}){if(null===n)throw new Error("over is null");if(r.id!==n.id){console.log(`replace: ${r.id}, ${n.id}`);const s=e.map((e=>e.id)).indexOf(r.id),o=e.map((e=>e.id)).indexOf(n.id);t(s,o)}await p()},modifiers:[s.gj],children:(0,a.jsx)(o.gB,{items:e,strategy:o._G,children:e.map(((e,t)=>(0,a.jsx)(l,{id:e.id,index:t,formData:r,RowComponent:i,externalData:u},e.id)))})})})}},6036:(e,t,r)=>{r.d(t,{qC:()=>g,WE:()=>k.W,HX:()=>u,$n:()=>c,KD:()=>j,Qu:()=>x.Q});var n=r(6540),s=r(3051),o=r(8968),i=r(5993),a=r(7512),l=r(4848);function d({open:e,resolveConfirm:t,prompt:r,trueText:n,falseText:d}){return(0,l.jsxs)(s.A,{open:e,onClose:()=>t?.(!1),children:[(0,l.jsx)(o.A,{children:r}),(0,l.jsxs)(i.A,{children:[(0,l.jsx)(a.A,{onClick:()=>t?.(!0),variant:"contained",children:n}),(0,l.jsx)(a.A,{onClick:()=>t?.(!1),variant:"outlined",children:d})]})]})}function u(e){const{confirm:t,confirmDialog:r}=function({trueText:e,falseText:t}){const[r,s]=(0,n.useState)(!1),[o,i]=(0,n.useState)(null),[a,u]=(0,n.useState)("__DEFAULT_PROMPT__"),c={open:r,resolveConfirm:o,prompt:a,trueText:e,falseText:t};return{confirm:function(e){return u(e),s(!0),new Promise((e=>{i((t=>t=>{e(t),s(!1)}))}))},confirmDialog:(0,l.jsx)(d,{...c})}}(e);return{canQuit:async e=>{const r=e?.();return void 0===r||t(r)},confirmDialog:r}}function c({editor:{renderContent:e,renderTitle:t,getOnSubmit:r,preventQuit:s,disableSubmit:o,beforeOpen:i,onQuit:a}}){const[l,d]=(0,n.useState)(!1),{canQuit:c,confirmDialog:p}=u({trueText:"Quit",falseText:"Resume"});const m=()=>d(!1);return{editorDialogProps:{renderContent:e,renderTitle:t,open:l,closeDialog:m,tryToQuit:async function(){await c(s)&&(a?.(),d(!1))},disableSubmit:o,onSubmit:r(m),confirmDialog:p},openDialog:function(){i?.(),d(!0)}}}var p=r(6831),m=r(4238);function g({renderContent:e,renderTitle:t,open:r,closeDialog:n,tryToQuit:d,disableSubmit:u,onSubmit:c,confirmDialog:g}){const x=(0,m.C)();return(0,l.jsxs)(s.A,{open:r,onClose:d,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{[x]:{margin:0,width:"calc(100% - 5pt)"}}},children:[void 0!==t&&(0,l.jsx)(p.A,{children:t()}),(0,l.jsx)(o.A,{sx:{[x]:{padding:1}},children:e(n)}),(0,l.jsxs)(i.A,{children:[(0,l.jsx)(a.A,{onClick:c,variant:"contained",disabled:u?.(),children:"Apply"}),(0,l.jsx)(a.A,{onClick:d,variant:"outlined",children:"Cancel"})]}),g]})}var x=r(1450);function h({tabItems:e,tabKeys:t,currentTabKey:r,closeDialog:s}){return(0,l.jsx)(n.Fragment,{children:t.map((t=>(0,l.jsx)(f,{currentTabKey:r,tabKeyForPanel:t,children:e[t].editor.renderContent(s)},t)))})}function f({currentTabKey:e,tabKeyForPanel:t,children:r}){return(0,l.jsx)("div",{hidden:e!==t,children:r})}var b=r(5611),y=r(6786);function v({tabItems:e,tabKeys:t,currentTabKey:r,setCurrentTabKey:s}){const{canQuit:o,confirmDialog:i}=u({trueText:"Quit",falseText:"Resume"});return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(b.A,{value:r,onChange:async(t,n)=>await async function(t){await o(e[r].editor.preventQuit)&&(s(t),e[t].editor.beforeOpen?.())}(n),children:t.map((t=>(0,l.jsx)(y.A,{value:t,label:e[t].label,sx:{textTransform:"none"}},t)))}),i]})}function j({tabItems:e,tabKeys:t,defaultTabKey:r}){const[s,o]=(0,n.useState)(r),i=e[s],a=(0,n.useCallback)((r=>(0,l.jsx)(h,{tabItems:e,tabKeys:t,currentTabKey:s,closeDialog:r})),[e,t,s]),d=(0,n.useCallback)((()=>(0,l.jsx)(v,{tabItems:e,tabKeys:t,currentTabKey:s,setCurrentTabKey:o})),[e,t,s,o]);return(0,n.useMemo)((()=>({renderContent:a,renderTitle:d,getOnSubmit:i.editor.getOnSubmit,preventQuit:i.editor.preventQuit,disableSubmit:i.editor.disableSubmit,beforeOpen:i.editor.beforeOpen,onQuit:i.editor.onQuit})),[a,d,i])}var k=r(8908)},6398:(e,t,r)=>{r.d(t,{Q:()=>i});var n=r(6540),s=r(5293),o=r(467);function i(){const{colorMode:e}=(0,s.G)();return(0,n.useMemo)((()=>(0,o.A)({palette:{mode:e,primary:{main:"#7e6ca8"}}})),[e])}},6754:(e,t,r)=>{r.d(t,{F:()=>a,J:()=>l});var n=r(6540),s=r(1198),o=r(1241),i=r(4848);function a({items:e,indexRange:t,setIndexRange:r,getLabel:n}){return(0,i.jsx)(s.Ay,{min:0,max:e.length-1,value:t,onChange:(e,t)=>{r(t)},valueLabelDisplay:"auto",valueLabelFormat:t=>{const r=e[t];return n(r,t)}})}function l({items:e,getValue:t,getLabel:r}){(0,n.useEffect)((()=>{if(!function(e){for(const t of(0,o.a)(0,e.length-1))if(e[t]>=e[t+1])return!1;return!0}(e.map(t)))throw new Error("items is not sorted")}),[e,t]);const[s,i]=(0,n.useState)([0,e.length-1]);return{isSelected:r=>{const n=t(r),o=t(e[s[0]]),i=t(e[s[1]]);return n>=o&&n<=i},rangeSliderProps:{items:e,indexRange:s,setIndexRange:i,getLabel:r}}}},7472:(e,t,r)=>{r.d(t,{Q:()=>l,q:()=>n.q});var n=r(2137),s=r(6540);class o{onmessageFunctions=new Map;onRestartFunctions=new Map;workerOutputLog=[];constructor(e){this.createWorker=e,this.worker=this.createWorker(),this.worker.onmessage=e=>this.onmessage(e.data)}log(...e){"undefined"==typeof jest&&console.log(...e)}subscribe(e,t){this.onmessageFunctions.set(e,t),this.log(`subscribe: ${e}`)}unsubscribe(e){this.onmessageFunctions.delete(e),this.log(`unsubscribe: ${e}`)}subscribeRestart(e,t){this.onRestartFunctions.set(e,t),this.log(`subscribe restart: ${e}`)}unsubscribeRestart(e){this.onRestartFunctions.delete(e)}postMessage(e){this.worker.postMessage(e)}onmessage(e){this.workerOutputLog=[...this.workerOutputLog,e],this.onmessageFunctions.forEach((t=>t(e)))}terminate(){console.log("Worker terminated"),this.worker.terminate()}restart(){this.worker.terminate(),this.worker=this.createWorker(),this.worker.onmessage=e=>this.onmessage(e.data),this.onRestartFunctions.forEach((e=>e()))}static default(){return new o((()=>({})))}}var i=r(4848);function a(e){const t=(0,s.useRef)(null);null===t.current&&(t.current=new o(e.createWorker));const r=(0,s.useState)(e.defaultState),n=e.context,a=e.stateContext;return(0,i.jsx)(n.Provider,{value:t.current,children:(0,i.jsx)(a.Provider,{value:r,children:e.children})})}function l(e){const t=(0,s.createContext)(o.default()),r=(0,s.createContext)([void 0,e=>{throw new Error("Not wrapped by provider")}]),n=function(e,t,r){return n=>{const s="defaultState"in n?n.defaultState:{};return(0,i.jsx)(a,{context:e,stateContext:t,createWorker:r,defaultState:s,children:n.children})}}(t,r,e);return{reactContext:t,stateContext:r,Provider:n}}},7635:(e,t,r)=>{r.d(t,{f:()=>a});var n=r(6540),s=r(1922),o=r(4742);var i=r(4848);function a({dataset:e,TooltipContent:t,globalData:r}){const[s,a]=(0,n.useState)(null);!function(e,t){const r=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(null!==r.current){const n=r.current;(0,o.a)(n,e)||t()}r.current=e}),[r,e,t])}(e,(()=>{a(null)}));const d=(0,n.useCallback)(((e,t,r)=>{const n=t[0];if(void 0===n)return void a(null);const{index:s}=n,o=r.getDatasetMeta(0).data[s],i=r.getDatasetMeta(0)?.dataset?.options,l=function(e){if(void 0===e)return null;if("borderColor"in e&&"backgroundColor"in e){const{borderColor:t,backgroundColor:r}=e;if("string"==typeof t&&"string"==typeof r)return{borderColor:t,backgroundColor:r}}return null}(i),d=r.canvas.offsetLeft+o.x,u=r.canvas.offsetTop+o.y;a({x:d,y:u,index:s,labelData:l})}),[a]),u=(0,n.useCallback)((()=>{if(null===s)return null;const{labelData:e}=s;if(null===e)return null;const{borderColor:t,backgroundColor:r}=e;return(0,i.jsx)("span",{style:{borderWidth:"2px",borderStyle:"solid",borderColor:t.toString(),background:r.toString(),height:"10px",width:"10px",display:"inline-block"}})}),[s]);return{onClick:d,renderTooltip:(0,n.useCallback)((()=>{if(null===s)return null;const n=e[s.index];return void 0===n?null:(0,i.jsx)(l,{x:s.x,y:s.y,children:(0,i.jsx)(t,{item:n,renderBox:u,globalData:r})})}),[s,e,t,u,r])}}function l({children:e,x:t,y:r}){return(0,i.jsx)(s.A,{title:e,arrow:!0,open:!0,slotProps:{tooltip:{sx:{pointerEvents:"auto",maxWidth:"500px"}},popper:{sx:{pointerEvents:"none"},modifiers:[{name:"offset",options:{offset:[0,-5]}}]}},children:(0,i.jsx)("span",{style:{position:"absolute",top:r,left:t}})})}},8145:(e,t,r)=>{r.d(t,{D:()=>l,_:()=>a});var n=r(8486),s=r(4660),o=r(1987),i=r(4848);const a="_HIDE_THIS_ERROR_";function l({messages:e}){return(0,i.jsx)(s.N,{mode:"sync",children:e.map((({message:e,type:t})=>{if(void 0!==e&&e!==a)return(0,i.jsx)(o.P.div,{...d,children:(0,i.jsx)(u,{message:e})},`motion-${t}-${e}`)}))})}const d={initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},style:{overflow:"hidden",color:"red",marginTop:4}};function u({message:e}){return(0,i.jsx)(n.A,{severity:"error",sx:{whiteSpace:"pre-wrap",paddingTop:0,paddingBottom:0,paddingLeft:"5px",paddingRight:"5px"},children:e})}},8445:(e,t,r)=>{r.d(t,{C:()=>p,p:()=>c});var n=r(6540),s=r(2679),o=r(7472),i=r(7416),a=r(3030);function l(e){const t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{(()=>{const e=t.current;null!==e&&void 0!==e.scrollTo&&function(e){return e.scrollTop+50>=e.scrollHeight-e.clientHeight}(e)&&setTimeout((()=>{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}))})()}),e),t}var d=r(4848);function u({messages:e}){const t=l([e]);return(0,d.jsx)(i.A,{elevation:0,variant:"outlined",ref:t,"data-testid":"calculator-results",sx:{width:"700px",height:"700px",overflowY:"scroll",padding:"5px","@media screen and (max-width: 700px)":{width:"100%",height:"50vh",margin:"3px"}},children:e.map(((e,t)=>(0,d.jsx)(a.Q,{styledMessage:e},t)))})}const c="printMessages";function p({context:e}){const{addListener:t,addRestartListener:r}=(0,o.q)(e),i=[(0,s.sH)("success","Computation results will be shown here")],[a,l]=(0,n.useState)(i),c=(0,n.useCallback)((e=>{l(e instanceof Array?t=>t.concat(e):t=>t.concat([e]))}),[l]),p=(0,n.useCallback)((e=>{"printMessages"===e.command&&c(e.messages)}),[c]);return(0,n.useEffect)((()=>{t("MessageBoxForWorker",p)}),[t,p]),(0,n.useEffect)((()=>{r("MessageBoxForWorker",(()=>{c((0,s.sH)("success","The background process is restarted."))}))}),[r,c]),(0,d.jsx)(u,{messages:a})}},8908:(e,t,r)=>{r.d(t,{W:()=>j});var n=r(2608),s=r(5994),o=r(9682),i=r(2007),a=r(7512),l=r(4848);function d({register:e,errors:t,fields:r,append:d,remove:c,getValues:p,trigger:m,move:g,onSubmit:x,getGlobalErrors:h,getNext:f,RowComponent:b,arrayKey:y}){const v={register:e,remove:c,errors:t,getValues:p,trigger:m};return(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await x(e)},children:[(0,l.jsxs)(i.A,{spacing:2,sx:{marginTop:1},children:[(0,l.jsx)(s.K,{RowComponent:b,Container:u,externalData:void 0,fields:r,move:g,formData:v}),(0,l.jsx)(a.A,{variant:"outlined",onClick:()=>d(f(p()[y])),startIcon:(0,l.jsx)(o.A,{}),sx:{textTransform:"none"},children:"Add a generator"}),(0,l.jsx)(n.J,{fieldErrorArray:h(t)})]}),(0,l.jsx)("button",{hidden:!0,type:"submit"})]})}function u({children:e}){return(0,l.jsx)(i.A,{spacing:2,children:e})}var c=r(8871),p=r(9785);var m=r(6540),g=r(7110),x=r(797),h=r(3581),f=r(1922),b=r(4671),y=r(723);function v({rowComponentProps:e,rowComponentData:{fieldOptionsList:t,getFieldErrorArray:r}}){const{draggableProps:s,index:o,formData:{register:a,getValues:d,errors:u,remove:c,trigger:p}}=e,v=(0,y.d)(),j=(0,m.useCallback)((()=>v((async()=>await p()),1e3)),[v,p]);return(0,l.jsx)("div",{"data-testid":"ArrayEditor-row",children:(0,l.jsxs)(i.A,{spacing:1,children:[(0,l.jsxs)(i.A,{direction:"row",spacing:1,children:[t.map((({key:e,label:t,width:r,type:n,valueAsNumber:s,getRegisterName:i,isError:c,inputProps:m})=>(0,l.jsx)(h.A,{label:"function"==typeof t?t(d(),o):t,type:n,sx:{width:r},size:"small",...a(i(o),{valueAsNumber:s,onChange:j}),onBlur:()=>p(),error:c(u,o),inputProps:"function"==typeof m?m(o):m},e))),(0,l.jsx)(f.A,{title:"Delete this generator",children:(0,l.jsx)(b.A,{onClick:async()=>{c(o),await p()},size:"small",children:(0,l.jsx)(g.A,{fontSize:"small"})})}),(0,l.jsx)(b.A,{...s,style:{cursor:"grab",touchAction:"none"},children:(0,l.jsx)(x.A,{})})]}),(0,l.jsx)(n.J,{fieldErrorArray:r({errors:u,index:o})})]})})}function j({fieldOptionsList:e,getFieldErrorArray:t,...r}){const n=function({fieldOptionsList:e,getFieldErrorArray:t}){return(0,m.useCallback)((r=>(0,l.jsx)(v,{rowComponentProps:r,rowComponentData:{fieldOptionsList:e,getFieldErrorArray:t}})),[e,t])}({fieldOptionsList:e,getFieldErrorArray:t}),{editorWithoutRender:s,arrayEditorPropsPartial:o}=function({defaultValues:e,setValues:t,getGlobalErrors:r,getNext:n,schema:s,arrayKey:o,zodResolverMode:i}){const{handleSubmit:a,register:l,getValues:d,reset:u,trigger:m,control:g,formState:{errors:x,isValid:h}}=(0,p.mN)({mode:"onBlur",reValidateMode:"onBlur",criteriaMode:"all",defaultValues:e,resolver:(0,c.u)(s,void 0,{mode:i})}),{fields:f,append:b,remove:y,move:v}=(0,p.jz)({control:g,name:o});return{editorWithoutRender:{getOnSubmit:function(e){return a((r=>{t(r),e()}))},beforeOpen:function(){u(e)},preventQuit:function(){return JSON.stringify(d())!==JSON.stringify(e)?"Your input is not saved. Are you sure you want to quit?":void 0},disableSubmit:function(){return!h}},arrayEditorPropsPartial:{register:l,errors:x,fields:f,append:b,remove:y,getValues:d,trigger:m,move:v,getGlobalErrors:r,getNext:n,arrayKey:o}}}({...r});return{...s,renderContent:e=>(0,l.jsx)(d,{onSubmit:s.getOnSubmit(e),RowComponent:n,...o})}}}}]);