"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[365],{723:(e,r,n)=>{n.d(r,{d:()=>i});var t=n(6540);function i(){const e=(0,t.useRef)(null);return(0,t.useCallback)(((r,n)=>{null!==e.current&&clearTimeout(e.current);const t=setTimeout(r,n);e.current=t}),[])}},1564:(e,r,n)=>{n.r(r),n.d(r,{default:()=>P});var t=n(6540),i=n(4848);function o(){return(0,i.jsx)("div",{children:"Temporarily disabled"})}var a=n(8145);function s(){const{count:e,increment:r,decrement:n}=function(){const[e,r]=(0,t.useState)(0);return{count:e,increment:(0,t.useCallback)((()=>{r((e=>e+1))}),[r]),decrement:(0,t.useCallback)((()=>{r((e=>e-1))}),[r])}}(),o=(s=e,s<0?[]:[...Array(s).keys()]).map((e=>({message:`Message-${e}`,type:`type-${e}`})));var s;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:["count: ",e]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:r,children:"increment"}),(0,i.jsx)("button",{onClick:n,children:"decrement"})]}),(0,i.jsx)(a.D,{messages:o}),(0,i.jsx)("div",{children:"Text below error"})]})}var d=n(8871),l=n(9785),c=n(5994);function u({draggableProps:e,index:r,formData:{register:n,errors:t,remove:o}}){return(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"text",...n(`personArray.${r}.name`)}),(0,i.jsx)("input",{type:"number",...n(`personArray.${r}.age`,{valueAsNumber:!0})}),(0,i.jsx)("button",{onClick:()=>o(r),children:"Delete"}),(0,i.jsx)("span",{...e,style:{border:"1px solid gray",margin:"0 5px",cursor:"grab",touchAction:"none"},children:"move"}),(0,i.jsx)("span",{children:x(t,r).map((e=>(0,i.jsx)("span",{style:{color:"red",border:"1px solid red",margin:"0 5px"},children:e},r)))})]})}function x(e,r){const n=e.personArray?.[r];if(void 0===n)return[];const t=[];return void 0!==n.name?.message&&t.push(n.name.message),void 0!==n.age?.message&&t.push(n.age.message),t}var f=n(4476);const p=f.z.object({name:f.z.string().nonempty(),age:f.z.number().nonnegative()}),m=f.z.array(p),g=f.z.object({personArray:m});function h(){const{handleSubmit:e,register:r,getValues:n,trigger:t,control:o,formState:{errors:a}}=(0,l.mN)({mode:"onBlur",reValidateMode:"onBlur",defaultValues:{personArray:[{name:"Bourbaki",age:100}]},resolver:(0,d.u)(g)}),{fields:s,append:x,remove:f,move:p}=(0,l.jz)({control:o,name:"personArray"}),m={register:r,remove:f,errors:a,getValues:n,trigger:t};return(0,i.jsxs)("div",{children:[(0,i.jsx)(c.K,{RowComponent:u,Container:({children:e})=>(0,i.jsx)("div",{children:e}),externalData:void 0,fields:s,move:p,formData:m}),(0,i.jsx)("button",{onClick:()=>x({name:"",age:0}),children:"Add row"}),(0,i.jsx)("button",{onClick:e((({personArray:e})=>{window.alert(function(e){return e.map((e=>`name: ${e.name}, age: ${e.age}`)).join("\n")}(e))})),children:"Submit"})]})}var v=n(9658),j=n(6592);function b(){const[e,r]=(0,t.useState)("Default text"),n=(0,j.Q)({text:e,setText:r,preventPrompt:"Do you really want to quit?",fieldLabel:"Text field",fieldTestid:"text-field",validate:e=>0!==e.length||"This field is required."}),{editorDialogProps:o,openDialog:a}=(0,v.$n)({editor:n});return(0,i.jsxs)("div",{children:[(0,i.jsx)(v.qC,{...o}),(0,i.jsx)("button",{onClick:a,children:"Open dialog"}),(0,i.jsx)("button",{onClick:()=>r("This is a text from container."),children:"Set text"}),(0,i.jsx)("div",{"data-testid":"text-div",children:e})]})}function y({candidates:e,defaultValue:r,name:n}){const[o,a]=(0,t.useState)(r),s=(0,t.useCallback)((()=>(0,i.jsxs)("span",{children:[n,":",e.map((e=>(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",value:e,checked:e===o,onChange:e=>a(e.target.value)}),e]},e)))]})),[n,e,o,a]);return{value:o,renderRadio:s}}function C({children:e,width:r,padding:n}){return(0,i.jsx)("div",{style:{padding:"10px",boxSizing:"border-box"},children:(0,i.jsx)("div",{style:{width:r,border:"1px solid gray",boxSizing:"border-box",padding:n},children:e})})}var k=n(6347);function w(e,r){return e.includes(r)}function T(e){const r=e[0],[n,i]=function(e,r){const n=(0,k.zy)(),i=(0,k.W6)();return[new URLSearchParams(n.search).get(e)??r,(0,t.useCallback)((t=>{const o=new URLSearchParams(n.search);t===r?o.delete(e):o.set(e,t),i.replace({...n,search:o.toString()})}),[i,n,e,r])]}("tab-key",r);return[w(e,n)?n:r,(0,t.useCallback)((r=>{if(!w(e,r))throw new Error(`${r} is not a valid key for PlaygroundTab`);i(r)}),[i,e])]}function S(e){const r=function(e){return e.map((e=>e.key))}(e),[n,t]=T(r),o=function(e,r){for(const n of e)if(n.key===r)return n;throw new Error(`No tab found for key ${r}`)}(e,n);return{renderSelect:()=>(0,i.jsx)("select",{value:n,onChange:e=>t(e.target.value),children:e.map((e=>(0,i.jsx)("option",{value:e.key,children:e.name},e.key)))}),renderTabs:()=>o.render()}}const A=[{key:"show-errors",name:"ShowErrors",render:()=>(0,i.jsx)(s,{})},{key:"text-editor",name:"TextEditor",render:()=>(0,i.jsx)(b,{})},{key:"sortable-fields",name:"SortableFields",render:()=>(0,i.jsx)(h,{})},{key:"message-box",name:"MessageBoxForWorker",render:()=>(0,i.jsx)(o,{})}];function D(){const{renderSelect:e,renderTabs:r}=S(A),{props:n,renderControl:o}=function(){const{value:e,renderRadio:r}=y({name:"width",candidates:["30%","50%","90%","100%"],defaultValue:"100%"}),{value:n,renderRadio:o}=y({name:"padding",candidates:["0px","1px","3px","5px","10px"],defaultValue:"5px"});return{props:{width:e,padding:n},renderControl:(0,t.useCallback)((()=>(0,i.jsx)("div",{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:r()}),(0,i.jsx)("li",{children:o()})]})})),[r,o])}}();return(0,i.jsxs)("div",{children:["This is playground.",e(),o(),(0,i.jsx)(C,{...n,children:r()})]})}var R=n(6944);function P(){return(0,i.jsx)(R.A,{title:"Playground",children:(0,i.jsx)(D,{})})}},2608:(e,r,n)=>{n.d(r,{J:()=>d,_:()=>a._});n(6540);function t(e){if(void 0===e)return[];const r=e?.message;if(void 0===r)return[];return[{type:e.type,message:r}]}function i(e){const r=e?.types;return void 0===r?t(e):Object.entries(r).map((([e,r])=>({type:e,message:o(r)})))}function o(e){return void 0===e||"string"==typeof e?e:"boolean"==typeof e?e?void 0:"Unknown error":e.join("\n")}var a=n(8145),s=n(4848);function d({fieldErrorArray:e,criteriaMode:r="firstError"}){const n=function({fieldErrorArray:e,criteriaMode:r}){switch(r){case"all":return e.flatMap(i);case"firstError":return e.flatMap(t)}}({fieldErrorArray:e,criteriaMode:r});return(0,s.jsx)(a.D,{messages:n})}},4238:(e,r,n)=>{n.d(r,{C:()=>i});var t=n(4675);function i(){return(0,t.A)().breakpoints.down("sm")}},5994:(e,r,n)=>{n.d(r,{K:()=>l});n(6540);var t=n(2790),i=n(8831),o=n(3627),a=n(4979),s=n(4848);function d({id:e,RowComponent:r,index:n,formData:t,externalData:i}){const{attributes:d,listeners:l,setNodeRef:c,transform:u,transition:x}=(0,o.gl)({id:e}),f={transform:a.Ks.Transform.toString(u),transition:x},p={draggableProps:{...d,...l},index:n,formData:t,externalData:i};return(0,s.jsx)("div",{ref:c,style:f,children:(0,s.jsx)(r,{...p})})}function l({fields:e,move:r,formData:n,RowComponent:a,Container:l,externalData:c}){const u=(0,t.FR)((0,t.MS)(t.AN),(0,t.MS)(t.uN,{coordinateGetter:o.JR})),{trigger:x}=n;return(0,s.jsx)(l,{children:(0,s.jsx)(t.Mp,{sensors:u,collisionDetection:t.fp,onDragEnd:async function({active:n,over:t}){if(null===t)throw new Error("over is null");if(n.id!==t.id){console.log(`replace: ${n.id}, ${t.id}`);const i=e.map((e=>e.id)).indexOf(n.id),o=e.map((e=>e.id)).indexOf(t.id);r(i,o)}await x()},modifiers:[i.gj],children:(0,s.jsx)(o.gB,{items:e,strategy:o._G,children:e.map(((e,r)=>(0,s.jsx)(d,{id:e.id,index:r,formData:n,RowComponent:a,externalData:c},e.id)))})})})}},6592:(e,r,n)=>{n.d(r,{Q:()=>x});var t=n(6540),i=n(9785),o=n(2608),a=n(2007),s=n(3581),d=n(723),l=n(4848);function c({register:e,errors:r,fieldLabel:n,fieldTestid:i,validate:c,trigger:x}){const f=(0,d.d)(),p=(0,t.useCallback)((()=>f((async()=>await x()),1e3)),[f,x]);return(0,l.jsxs)(a.A,{spacing:2,sx:{marginTop:1},children:[(0,l.jsx)(s.A,{label:n,multiline:!0,inputProps:{"data-testid":i},...e("text",{validate:c,onChange:p}),error:void 0!==r.text}),(0,l.jsx)(o.J,{fieldErrorArray:u(r)})]})}function u(e){const r=e.text;return void 0===r?[]:[r]}function x({text:e,setText:r,preventPrompt:n,fieldLabel:t,fieldTestid:o,validate:a}){const{register:s,handleSubmit:d,getValues:u,reset:x,trigger:f,formState:{errors:p}}=(0,i.mN)({mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!1,defaultValues:{text:e}});const m={register:s,errors:p,trigger:f,fieldLabel:t,fieldTestid:o,validate:a};return{preventQuit:function(){return u().text!==e?n:void 0},getOnSubmit:function(e){return d((({text:n})=>{r(n),e()}))},beforeOpen:function(){x({text:e})},disableSubmit:function(){return void 0!==p.text},renderContent:e=>(0,l.jsx)(c,{...m})}}},8145:(e,r,n)=>{n.d(r,{D:()=>d,_:()=>s});n(6540);var t=n(8486),i=n(4660),o=n(1987),a=n(4848);const s="_HIDE_THIS_ERROR_";function d({messages:e}){return(0,a.jsx)(i.N,{mode:"sync",children:e.map((({message:e,type:r})=>{if(void 0!==e&&e!==s)return(0,a.jsx)(o.P.div,{...l,children:(0,a.jsx)(c,{message:e})},`motion-${r}-${e}`)}))})}const l={initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},style:{overflow:"hidden",color:"red",marginTop:4}};function c({message:e}){return(0,a.jsx)(t.A,{severity:"error",sx:{whiteSpace:"pre-wrap",paddingTop:0,paddingBottom:0,paddingLeft:"5px",paddingRight:"5px"},children:e})}},9658:(e,r,n)=>{n.d(r,{qC:()=>p,HX:()=>c,$n:()=>u});var t=n(6540),i=n(3051),o=n(8968),a=n(5993),s=n(7512),d=n(4848);function l({open:e,resolveConfirm:r,prompt:n,trueText:t,falseText:l}){return(0,d.jsxs)(i.A,{open:e,onClose:()=>r?.(!1),children:[(0,d.jsx)(o.A,{children:n}),(0,d.jsxs)(a.A,{children:[(0,d.jsx)(s.A,{onClick:()=>r?.(!0),variant:"contained",children:t}),(0,d.jsx)(s.A,{onClick:()=>r?.(!1),variant:"outlined",children:l})]})]})}function c(e){const{confirm:r,confirmDialog:n}=function({trueText:e,falseText:r}){const[n,i]=(0,t.useState)(!1),[o,a]=(0,t.useState)(null),[s,c]=(0,t.useState)("__DEFAULT_PROMPT__"),u={open:n,resolveConfirm:o,prompt:s,trueText:e,falseText:r};return{confirm:function(e){return c(e),i(!0),new Promise((e=>{a((r=>r=>{e(r),i(!1)}))}))},confirmDialog:(0,d.jsx)(l,{...u})}}(e);return{canQuit:async e=>{const n=e?.();return void 0===n||r(n)},confirmDialog:n}}function u({editor:{renderContent:e,renderTitle:r,getOnSubmit:n,preventQuit:i,disableSubmit:o,beforeOpen:a,onQuit:s}}){const[d,l]=(0,t.useState)(!1),{canQuit:u,confirmDialog:x}=c({trueText:"Quit",falseText:"Resume"});const f=()=>l(!1);return{editorDialogProps:{renderContent:e,renderTitle:r,open:d,closeDialog:f,tryToQuit:async function(){await u(i)&&(s?.(),l(!1))},disableSubmit:o,onSubmit:n(f),confirmDialog:x},openDialog:function(){a?.(),l(!0)}}}var x=n(6831),f=n(4238);function p({renderContent:e,renderTitle:r,open:n,closeDialog:t,tryToQuit:l,disableSubmit:c,onSubmit:u,confirmDialog:p}){const m=(0,f.C)();return(0,d.jsxs)(i.A,{open:n,onClose:l,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{[m]:{margin:0,width:"calc(100% - 5pt)"}}},children:[void 0!==r&&(0,d.jsx)(x.A,{children:r()}),(0,d.jsx)(o.A,{sx:{[m]:{padding:1}},children:e(t)}),(0,d.jsxs)(a.A,{children:[(0,d.jsx)(s.A,{onClick:u,variant:"contained",disabled:c?.(),children:"Apply"}),(0,d.jsx)(s.A,{onClick:l,variant:"outlined",children:"Cancel"})]}),p]})}}}]);