/*! For license information please see 714.e5bade47.js.LICENSE.txt */
(()=>{"use strict";var e,t,r={2714:(e,t,r)=>{class s extends Error{constructor(e,t=`Unsupported type: ${e}`){super(t)}}r(6540);const o=["text","math"],a=["success","error"];function n(e,t){return{messageType:e,strings:[{stringType:"text",content:t}],plainString:t,options:[{text:t,label:"Copy this line"}]}}var i=r(4921);function u(e){const t=e.stringType;if(!o.includes(t))throw new Error(`Invalid stringType: ${t}`);return{stringType:t,content:e.content}}function l(e){const t=[{text:e.plainString,label:"Copy this line"}];return null!==e.dgaJson&&void 0!==e.dgaJson&&t.push({text:e.dgaJson,label:"Copy this DGA as JSON"}),t}function p(e){const t=e.messageType;if(!a.includes(t))throw new Error(`Invalid messageType: ${t}`);return{messageType:t,strings:e.strings.map(u),plainString:e.plainString,options:l(e.options)}}class c{dgaWrapper=null;constructor({postWorkerOutput:e,updateState:t,log:r,error:s}){this.log=r??((...e)=>console.log(...e)),this.error=s??((...e)=>console.error(...e)),this.postMessage=t=>{this.log("KohomologyWorkerOutput",t),e(t)},this.updateState=(...e)=>{this.log("updateState",...e),t(...e)},this.log("new KohomologyMessageHandler()")}onmessage(e){this.log("KohomologyWorkerInput",e),this.notifyInfo({status:"computing",progress:null});try{switch(e.command){case"updateJson":this.updateJson(e.json),this.updateIdealJson("[]"),this.showDgaInfo(),this.showIdealInfo();break;case"updateIdealJson":this.updateIdealJson(e.idealJson),this.showIdealInfo();break;case"computeCohomology":this.computeCohomology(e.targetName,e.minDegree,e.maxDegree,e.showCohomology);break;case"computeCohomologyClass":this.computeCohomologyClass(e.targetName,e.cocycleString,e.showBasis);break;case"computeMinimalModel":this.computeMinimalModel(e.targetName,e.isomorphismUpTo);break;default:throw new s(e,`Invalid command: ${e}`)}}catch(t){t instanceof Error&&this.sendMessages(n("error",t.message)),this.error(t)}finally{this.notifyInfo({status:"idle"})}}updateJson(e){try{this.dgaWrapper=new i.FreeDGAWrapper(e),this.updateState("json",e)}catch(t){throw this.dgaWrapper=null,t}}updateIdealJson(e){f(this.dgaWrapper,"dgaWrapper is null"),this.dgaWrapper.setIdeal(e),this.updateState("idealJson",e)}sendMessages(e){if(e instanceof Array){const t={command:"printMessages",messages:e};this.postMessage(t)}else{const t={command:"printMessages",messages:[e]};this.postMessage(t)}}notifyInfo(e){this.updateState("workerInfo",e)}computeCohomology(e,t,r,s){f(this.dgaWrapper,"dgaWrapper is null"),this.sendMessages(p(this.dgaWrapper.computationHeader(e,t,r))),this.notifyInfo({status:"computing",progress:0});let o=[],a=(new Date).getTime();for(let n=t;n<=r;n++){switch(s){case"basis":o.push(p(this.dgaWrapper.computeCohomology(e,n)));break;case"dim":o.push(p(this.dgaWrapper.computeCohomologyDim(e,n)))}const i=(new Date).getTime();if(i-a>500){a=i,this.sendMessages(o);const e=(n-t+1)/(r-t+1);this.notifyInfo({status:"computing",progress:e}),o=[]}}this.sendMessages(o)}computeCohomologyClass(e,t,r){f(this.dgaWrapper,"dgaWrapper is null"),this.notifyInfo({status:"computing",progress:null}),this.sendMessages(p(this.dgaWrapper.computeCohomologyClass(e,t,r)))}computeMinimalModel(e,t){f(this.dgaWrapper,"dgaWrapper is null"),this.notifyInfo({status:"computing",progress:null});this.sendMessages(this.dgaWrapper.computeMinimalModel(e,t,((e,t,r)=>{this.updateState("workerInfo",{status:"computing",progress:0!==t?e/t:1,message:`Completed degree ${e}/${t}, Generators: ${r}`})})).map(p))}showDgaInfo(){if(null===this.dgaWrapper){const e="[Error] Your DGA contains errors. Please fix them.";this.updateState("dgaInfo",[n("error",e)])}else this.updateState("dgaInfo",this.dgaWrapper.dgaInfo().map(p))}showIdealInfo(){f(this.dgaWrapper,"dgaWrapper is null"),this.updateState("idealInfo",p(this.dgaWrapper.idealInfo()))}validateIdealGenerator(e){f(this.dgaWrapper,"dgaWrapper is null");const t=(0,i.validateIdealGeneratorString)(this.dgaWrapper,e);switch(t.type){case"success":return!0;case"error":return t.message;default:throw new Error("This can't happen!")}}validateIdealGeneratorArray(e){f(this.dgaWrapper,"dgaWrapper is null");const t=JSON.stringify(e),r=(0,i.validateIdealJson)(this.dgaWrapper,t);switch(r.type){case"success":return!0;case"error":return r.message;default:throw new Error("This can't happen!")}}}function f(e,t){if(null===e)throw new Error(t)}class d{constructor(e){this.messageHandler=new c(e),this.workerFunc={validateIdealGenerator:e=>this.messageHandler.validateIdealGenerator(e),validateIdealGeneratorArray:e=>this.messageHandler.validateIdealGeneratorArray(e)}}onWorkerInput(e){this.messageHandler.onmessage(e)}}const h=self,g=function(e,t){const r=t({postWorkerOutput:t=>{e({type:"output",value:t})},updateState:(...t)=>{const r=t[0],s=t[1];e({type:"updateState",key:r,value:s})}});return{onmessage:t=>{const o=t.data;switch(o.type){case"input":return void r.onWorkerInput(o.value);case"callFunc":return void(t=>{const s=r.workerFunc[t.key](...t.args),o={type:"funcResult",key:t.key,result:s,id:t.id};e(o)})(o);default:throw new s(o,"onmessage is not exhaustive!")}}}}(h.postMessage.bind(h),(e=>new d(e)));onmessage=g.onmessage},6540:(e,t,r)=>{r(9869)},9869:(e,t)=>{var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}function w(){}function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=y.prototype;var b=v.prototype=new w;b.constructor=v,g(b,y.prototype),b.isPureReactComponent=!0;var S=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function W(e,t,s,o,a,n){return s=n.ref,{$$typeof:r,type:e,key:t,ref:void 0!==s?s:null,props:n}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var x=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,s={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,(function(e){return s[e]}))):t.toString(36);var r,s}function M(){}function O(e,t,o,a,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u,l,p=!1;if(null===e)p=!0;else switch(i){case"bigint":case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case r:case s:p=!0;break;case f:return O((p=e._init)(e._payload),t,o,a,n)}}if(p)return n=n(e),p=""===a?"."+C(e,0):a,S(n)?(o="",null!=p&&(o=p.replace(x,"$&/")+"/"),O(n,t,o,"",(function(e){return e}))):null!=n&&(j(n)&&(u=n,l=o+(null==n.key||e&&e.key===n.key?"":(""+n.key).replace(x,"$&/")+"/")+p,n=W(u.type,l,void 0,0,0,u.props)),t.push(n)),1;p=0;var c,h=""===a?".":a+":";if(S(e))for(var g=0;g<e.length;g++)p+=O(a=e[g],t,o,i=h+C(a,g),n);else if("function"==typeof(g=null===(c=e)||"object"!=typeof c?null:"function"==typeof(c=d&&c[d]||c["@@iterator"])?c:null))for(e=g.call(e),g=0;!(a=e.next()).done;)p+=O(a=a.value,t,o,i=h+C(a,g++),n);else if("object"===i){if("function"==typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(M,M):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return p}function _(e,t,r){if(null==e)return e;var s=[],o=0;return O(e,s,"","",(function(e){return t.call(r,e,o++)})),s}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var $="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function J(){}}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={exports:{}};return r[e].call(a.exports,a,a.exports,o),a.exports}o.m=r,o.x=()=>{var e=o.O(void 0,[921],(()=>o(2714)));return e=o.O(e)},e=[],o.O=(t,r,s,a)=>{if(!r){var n=1/0;for(p=0;p<e.length;p++){r=e[p][0],s=e[p][1],a=e[p][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||n>=a)&&Object.keys(o.O).every((e=>o.O[e](r[u])))?r.splice(u--,1):(i=!1,a<n&&(n=a));if(i){e.splice(p--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[r,s,a]},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>"assets/js/"+e+".9872a227.js",o.miniCssF=e=>{},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.p="/kohomology/",o.gca=function(e){return e={}[e]||e,o.p+o.u(e)},(()=>{var e={714:1};o.f.i=(t,r)=>{e[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunkwebsite=self.webpackChunkwebsite||[],r=t.push.bind(t);t.push=t=>{var s=t[0],a=t[1],n=t[2];for(var i in a)o.o(a,i)&&(o.m[i]=a[i]);for(n&&n(o);s.length;)e[s.pop()]=1;r(t)}})(),t=o.x,o.x=()=>o.e(921).then(t);o.x()})();