"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[185],{2391:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tn});var r=n(7743),a=n(7294),o=n(1262),s=n(1927),l=n(7357);function i(){return new Worker(n.p+"assets/js/kohomology.worker.475bea1d.worker.js")}var c=n(3811),u=n(3156),m=n(6447),d=n(7720),p=n(3321),g=n(2890),f=n(480),y=n(6872),E=n(657),v=n(7645),h=n(1703),b=n(44),w=n(6514),x=n(1425),k=n(2734);function C(){return(0,k.Z)().breakpoints.down("sm")}function Z(e){let{currentTabKey:t,tabKeyForPanel:n,children:r}=e;return a.createElement("div",{hidden:t!==n},r)}function S(e){var t,n;let{tabItems:r,tabKeys:o,currentTabKey:s,handleChangeTabKey:l,submit:i,tryToQuit:c,open:u,closeDialog:m}=e;const d=C();return a.createElement(E.Z,{open:u,onClose:c,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{[d]:{margin:0,width:"calc(100% - 5pt)"}}}},a.createElement(v.Z,null,a.createElement(h.Z,{value:s,onChange:(e,t)=>l(t)},o.map((e=>a.createElement(b.Z,{value:e,key:e,label:r[e].label,sx:{textTransform:"none"}}))))),a.createElement(w.Z,{sx:{[d]:{padding:1}}},o.map((e=>a.createElement(Z,{currentTabKey:s,tabKeyForPanel:e,key:e},r[e].render(m))))),a.createElement(x.Z,null,a.createElement(p.Z,{onClick:i,variant:"contained",disabled:null==(t=(n=r[s]).disableSubmit)?void 0:t.call(n)},"Apply"),a.createElement(p.Z,{onClick:c,variant:"outlined"},"Cancel")))}var A=n(7462),I=n(887),D=n(2339),T=n(5587),J=n(4285);function P(e){let{id:t,RowComponent:n,index:r,formData:o,externalData:s}=e;const{attributes:l,listeners:i,setNodeRef:c,transform:u,transition:m}=(0,T.nB)({id:t}),d={transform:J.ux.Transform.toString(u),transition:m},p={draggableProps:{...l,...i},index:r,formData:o,externalData:s};return a.createElement("div",{ref:c,style:d},a.createElement(n,p))}function N(e){let{fields:t,move:n,formData:r,RowComponent:o,Container:s,externalData:l}=e;const i=(0,I.Dy)((0,I.VT)(I.we),(0,I.VT)(I.Lg,{coordinateGetter:T.is})),{trigger:c}=r;return a.createElement(s,null,a.createElement(I.LB,{sensors:i,collisionDetection:I.pE,onDragEnd:function(e){let{active:r,over:a}=e;if(c(),null===a)throw new Error("over is null");if(r.id!==a.id){console.log(`replace: ${r.id}, ${a.id}`);const e=t.map((e=>e.id)).indexOf(r.id),o=t.map((e=>e.id)).indexOf(a.id);n(e,o)}},modifiers:[D.F4]},a.createElement(T.Fo,{items:t,strategy:T.qw},t.map(((e,t)=>a.createElement(P,{key:e.id,id:e.id,index:t,formData:r,RowComponent:o,externalData:l}))))))}var O=n(2428),V=n(1737),j=n(6761),M=n(9699),z=n(1903),L=n(3984),$=n(3946);function G(){const e=(0,a.useRef)(null);return(0,a.useCallback)(((t,n)=>{null!==e.current&&clearTimeout(e.current);const r=setTimeout(t,n);e.current=r}),[])}function _(e){let{draggableProps:t,index:n,formData:{register:r,errors:o,remove:s,getValues:l,trigger:i}}=e;const c=l().generatorArray[n].name,u=G(),d=(0,a.useCallback)((()=>u((async()=>await i()),1e3)),[u,i]);return a.createElement("div",{"data-testid":"ArrayEditor-row"},a.createElement(m.Z,{spacing:1},a.createElement(m.Z,{direction:"row",spacing:1},a.createElement(z.Z,(0,A.Z)({label:"generator",sx:{width:90},size:"small"},r(`generatorArray.${n}.name`,{onChange:d}),{onBlur:()=>i(),error:F({errors:o,index:n,key:"name"}),inputProps:{"data-testid":"ArrayEditor-input-name"}})),a.createElement(z.Z,(0,A.Z)({label:`deg(${c})`,type:"number",sx:{width:80},size:"small"},r(`generatorArray.${n}.degree`,{valueAsNumber:!0,onChange:d}),{onBlur:()=>i(),error:F({errors:o,index:n,key:"degree"}),inputProps:{"data-testid":"ArrayEditor-input-degree"}})),a.createElement(z.Z,(0,A.Z)({label:`d(${c})`,sx:{width:200},size:"small"},r(`generatorArray.${n}.differentialValue`,{onChange:d}),{onBlur:()=>i(),error:F({errors:o,index:n,key:"differentialValue"}),inputProps:{"data-testid":"ArrayEditor-input-differentialValue"}})),a.createElement(L.Z,{title:"Delete this generator"},a.createElement($.Z,{onClick:()=>{s(n),i()},size:"small"},a.createElement(j.Z,{fontSize:"small"}))),a.createElement($.Z,(0,A.Z)({},t,{style:{cursor:"grab",touchAction:"none"}}),a.createElement(M.Z,null))),function(e){var t;let{errors:n,index:r}=e;const o=null==(t=n.generatorArray)?void 0:t[r];if(void 0===o)return;return a.createElement(m.Z,{spacing:.3},["name","degree","differentialValue"].map((e=>{const t=o[e];if(void 0!==t&&void 0!==t.message)return a.createElement(V.Z,{severity:"error",key:e,sx:{whiteSpace:"pre-wrap"}},t.message)})))}({errors:o,index:n})))}function F(e){var t,n;let{errors:r,index:a,key:o}=e;return void 0!==(null==(t=r.generatorArray)||null==(n=t[a])?void 0:n[o])}function W(e){let{register:t,errors:n,fields:r,append:o,remove:s,getValues:l,trigger:i,move:c,submit:u}=e;const d={register:t,remove:s,errors:n,getValues:l,trigger:i};return a.createElement("form",{onSubmit:e=>{e.preventDefault(),u()}},a.createElement(m.Z,{spacing:2,sx:{marginTop:1}},a.createElement(N,{RowComponent:_,Container:B,externalData:void 0,fields:r,move:c,formData:d}),a.createElement(p.Z,{variant:"outlined",onClick:()=>o({name:R(l().generatorArray),degree:1,differentialValue:"0"}),startIcon:a.createElement(O.Z,null),sx:{textTransform:"none"}},"Add a generator"),a.createElement("input",(0,A.Z)({hidden:!0,value:"dummy"},t("dummy"))),function(e){const t=e.dummy;if(void 0===t)return;const n=t.types;if(void 0===n)return;return a.createElement(a.Fragment,null,Object.entries(n).map((e=>{let[t,n]=e;return a.createElement(V.Z,{severity:"error",key:t},n)})))}(n)),a.createElement("button",{hidden:!0,type:"submit"}))}function R(e){const t=e.map((e=>e.name)),n="xyzuvwabc".split("");for(const r of n)if(!t.includes(r))return r;return""}function B(e){let{children:t}=e;return a.createElement(m.Z,{spacing:2},t)}var Q=n(6312),q=n(7536);function K(e){return H(JSON.parse(e))}function H(e){return`[\n${e.map((e=>`  ["${e[0]}", ${e[1]}, "${e[2]}"]`)).join(",\n")}\n]`}var U=n(8617),X=n(1604);const Y=X.z.string().min(1,"Please enter the name.").superRefine(((e,t)=>{const n=(0,U.validateGeneratorName)(e);switch(n.type){case"success":return;case"error":return void t.addIssue({code:X.z.ZodIssueCode.custom,message:n.message});default:throw new Error("This can't happen!")}})),ee=(te="Please enter the degree.",X.z.preprocess((e=>{if(!Number.isNaN(e))return e}),X.z.number({required_error:te}))).refine((e=>0!==e),"The degree cannot be 0.");var te;const ne=X.z.string().min(1,"Please enter the value of the differential."),re=X.z.object({name:Y,degree:ee,differentialValue:ne}),ae=X.z.array(re).superRefine(((e,t)=>{e.forEach(((n,r)=>{const a=function(e,t,n){if(e[t].differentialValue!==n)throw new Error("generatorArray[index] and value do not match.");const r=se(e.slice(0,t+1)),a=(0,U.validateDifferentialValueOfTheLast)(r);switch(a.type){case"success":case"N/A":return!0;default:return a.message}return"success"===a.type||a.message}(e,r,n.differentialValue);"string"==typeof a&&t.addIssue({path:[r,"differentialValue"],code:X.z.ZodIssueCode.custom,message:a})}))}));const oe=X.z.object({generatorArray:ae,dummy:X.z.literal("dummy")}).superRefine(((e,t)=>{const n=function(e){const t=e.filter((e=>e.degree>0)).length,n=e.filter((e=>e.degree<0)).length;if(t>0&&n>0)return"Cannot mix generators of positive and negative degrees.";return!0}(e.generatorArray);"string"==typeof n&&t.addIssue({path:["dummy"],code:X.z.ZodIssueCode.custom,message:n});const r=function(e){const t=e.map((e=>e.name)),n=t.filter(((e,n)=>t.indexOf(e)!==n));if(0===n.length)return!0;return"Generator names must be unique. Duplicated names are "+n.map((e=>`"${e}"`)).join(", ")}(e.generatorArray);"string"==typeof r&&t.addIssue({path:["dummy"],code:X.z.ZodIssueCode.custom,message:r})}));function se(e){return H(e.map((e=>{let{name:t,degree:n,differentialValue:r}=e;return[t,isNaN(n)?1:n,r]})))}function le(e){return JSON.parse(e).map((e=>{let[t,n,r]=e;return{name:t,degree:n,differentialValue:r}}))}function ie(e){const{arrayEditorPropsExceptSubmit:t,...n}=function(e){const{handleSubmit:t,register:n,getValues:r,reset:a,trigger:o,control:s,formState:{errors:l}}=(0,q.cI)({mode:"onBlur",reValidateMode:"onBlur",criteriaMode:"all",defaultValues:{dummy:"dummy",generatorArray:le(e.json)},resolver:(0,Q.F)(oe)}),{fields:i,append:c,remove:u,move:m}=(0,q.Dq)({control:s,name:"generatorArray"});return{label:"Array",onSubmit:function(n){t((t=>{let{generatorArray:r}=t;e.updateDgaWrapper(se(r)),n()}))()},beforeOpen:function(){const t=le(e.json);a({generatorArray:t})},preventQuit:function(){return se(r().generatorArray)!==e.json?"Your input is not saved. Are you sure you want to quit?":void 0},disableSubmit:function(){return void 0!==l.generatorArray||void 0!==l.dummy},arrayEditorPropsExceptSubmit:{register:n,errors:l,fields:i,append:c,remove:u,getValues:r,trigger:o,move:m}}}(e);return{...n,render:e=>a.createElement(W,(0,A.Z)({submit:()=>n.onSubmit(e)},t))}}var ce=n(4054),ue=n(3841),me=n(315),de=n(3599),pe=n(9369),ge=n(3375);function fe(e){let{containerClass:t,handleClick:n,handleClose:r,open:o,anchorEl:s,options:l}=e;return a.createElement(a.Fragment,null,a.createElement($.Z,{size:"small",onClick:n,sx:{paddingTop:0,paddingBottom:0,position:"absolute",bottom:"4px",right:0,visibility:"hidden",[`.${t}:hover &`]:{visibility:"visible"}}},a.createElement(pe.Z,{fontSize:"small"})),a.createElement(ge.Z,{anchorEl:s,open:o,onClose:r},a.createElement(ye,{text:l.plainString,label:"Copy this line",handleClose:r}),a.createElement(ye,{text:l.dgaJson,label:"Copy this DGA as JSON",handleClose:r})))}function ye(e){let{text:t,label:n,handleClose:r}=e;return a.createElement(de.Z,{onClick:()=>{null!==t&&(navigator.clipboard.writeText(t),console.log("Copied:",t)),r()},disabled:null===t},n)}function Ee(e){let{content:t}=e;const n=t.split("\n");return a.createElement("span",null,n.map(((e,t)=>t<n.length-1?a.createElement(a.Fragment,{key:t},e,a.createElement("br",null)):a.createElement(a.Fragment,{key:t},e))))}function ve(e){let{styledString:t}=e;const n={"\\deg":"|#1|"};switch(t.stringType){case"text":return a.createElement(Ee,{content:t.content});case"math":return a.createElement(c.Z,{math:t.content,settings:{output:"html",macros:n}})}}function he(e,t){if(t)return{background:"aquamarine"};switch(e){case"success":return{};case"error":return{background:"peachpuff"}}}function be(e){let{styledMessage:t}=e;const n="show-styled-message",{optionsButtonProps:r,open:o}=function(e,t){const[n,r]=(0,a.useState)(null),o=Boolean(n);return{optionsButtonProps:{containerClass:e,handleClick:e=>{r(e.currentTarget)},handleClose:()=>{r(null)},open:o,anchorEl:n,options:t},open:o}}(n,t.options);return a.createElement("div",{className:n,"data-styled-message":t.plainString,style:{...he(t.messageType,o),borderBottom:"1px solid lightGray",position:"relative"}},t.strings.map(((e,t)=>a.createElement(ve,{styledString:e,key:t}))),a.createElement(fe,r))}const we=["text","math"],xe=["success","error"];function ke(e,t){return{messageType:e,strings:[{stringType:"text",content:t}],plainString:t,options:{dgaJson:null,plainString:t}}}function Ce(e){const t=e.stringType;if(!we.includes(t))throw new Error(`Invalid stringType: ${t}`);return{stringType:t,content:e.content}}function Ze(e){const t=e.messageType;if(!xe.includes(t))throw new Error(`Invalid messageType: ${t}`);return{messageType:t,strings:e.strings.map(Ce),plainString:e.plainString,options:(n=e.options,{dgaJson:n.dgaJson??null,plainString:n.plainString})};var n}function Se(e){if(!Number.isInteger(e))throw new Error("dim must be an integer");if(e<=0)throw new Error("dim must be positive");return e%2==0?`[\n  ["x", ${e}, "0"],\n  ["y", ${2*e-1}, "x^2"]\n]`:`[\n  ["x", ${e}, "0"]\n]`}function Ae(e){if(!Number.isInteger(e))throw new Error("dim must be an integer");if(e<=0)throw new Error("dim must be positive");return`[\n  ["c", 2, "0"],\n  ["x", ${2*e+1}, "c^${e+1}"]\n]`}const Ie=["S^n","CP^3","7-mfd","arkowitz-lupton"];function De(e){try{return e()}catch(t){return}}function Te(e,t){const[n,r]=(0,a.useState)(2);return{json:De((()=>e(n))),renderSelectItem:t,renderForm:()=>a.createElement(z.Z,{label:"n",value:n,type:"number",onChange:e=>r(parseInt(e.target.value)),sx:{width:100},size:"small"})}}function Je(e){const[t,n]=(0,a.useState)(""),r={"S^n":Te(Se,(()=>a.createElement(c.Z,{math:"S^n"}))),"CP^3":Te(Ae,(()=>a.createElement(c.Z,{math:"\\mathbb CP^n"}))),"7-mfd":{json:'[\n  ["a", 2, "0"],\n  ["b", 2, "0"],\n  ["x", 3, "a^2"],\n  ["y", 3, "a*b"],\n  ["z", 3, "b^2"]\n]',renderSelectItem:()=>a.createElement("span",null,"a 7-manifold")},"arkowitz-lupton":{json:'[\n  ["x_1", 10, "0"],\n  ["x_2", 12, "0"],\n  ["y_1", 41, "x_1^3 * x_2"],\n  ["y_2", 43, "x_1^2 * x_2^2"],\n  ["y_3", 45, "x_1 * x_2^3"],\n  ["z", 119, "x_2 * (y_1*x_2 - x_1*y_2) * (y_2*x_2 - x_1*y_3) + x_1^12 + x_2^10"]\n]',renderSelectItem:()=>a.createElement("span",null,"Arkowitz-Lupton's example")}},o=""===t?void 0:r[t],s=null==o?void 0:o.json;const l="Select an example",i="label-select-dga-example";return{label:"Examples",onSubmit:function(t){void 0!==s&&(e.updateDgaWrapper(s),t())},beforeOpen:function(){n("")},disableSubmit:function(){return void 0===s},render:e=>a.createElement(m.Z,{spacing:2,sx:{marginTop:1}},a.createElement(ce.Z,null,a.createElement(ue.Z,{id:i},l),a.createElement(me.Z,{labelId:i,label:l,value:t,onChange:e=>n(e.target.value),sx:{width:300}},Ie.map((e=>a.createElement(de.Z,{value:e,key:e},r[e].renderSelectItem()))))),null==o||null==o.renderForm?void 0:o.renderForm(),void 0!==o&&a.createElement(m.Z,null,function(e){return void 0===e?[ke("error","Error")]:new U.FreeDGAWrapper(e).dgaInfo().map(Ze)}(o.json).map(((e,n)=>a.createElement(be,{styledMessage:e,key:`${t}-${n}`})))))}}function Pe(e){const{register:t,handleSubmit:n,getValues:r,reset:o,formState:{errors:s}}=(0,q.cI)({mode:"onBlur",reValidateMode:"onBlur",shouldUnregister:!1,defaultValues:{json:e.json}});const l={register:t,errors:s};return{label:"JSON",preventQuit:function(){return r().json!==e.json?"Your JSON is not saved. Are you sure you want to quit?":void 0},onSubmit:function(t){n((n=>{let{json:r}=n;e.updateDgaWrapper(r),t()}))()},beforeOpen:function(){o({json:e.json})},disableSubmit:function(){return void 0!==s.json},render:e=>a.createElement(Oe,l)}}function Ne(e){const t=(0,U.validateJson)(e);return"success"===t.type||t.message}function Oe(e){let{register:t,errors:n}=e;return a.createElement(m.Z,{spacing:2,sx:{marginTop:1}},a.createElement(z.Z,(0,A.Z)({label:"Input your DGA",multiline:!0,inputProps:{"data-testid":"JsonEditorDialog-input-json"}},t("json",{validate:Ne}),{error:void 0!==n.json})),void 0!==n.json&&a.createElement(V.Z,{severity:"error"},n.json.message))}const Ve=["array","json","example"];function je(e,t){const n=function(e,t,n){const[r,o]=(0,a.useState)(!1),[s,l]=(0,a.useState)(n),i=e[s],c=()=>o(!1);function u(){if(void 0===i.preventQuit)return!0;const e=i.preventQuit();return void 0===e||window.confirm(e)}return{tabDialogProps:{tabItems:e,tabKeys:t,currentTabKey:s,handleChangeTabKey:function(t){var n,r;u()&&(l(t),null==(n=(r=e[t]).beforeOpen)||n.call(r))},tryToQuit:function(){u()&&(null==i.onQuit||i.onQuit(),o(!1))},submit:function(){i.onSubmit(c)},open:r,closeDialog:c},openDialog:function(){null==i.beforeOpen||i.beforeOpen(),o(!0)}}}({array:ie({json:e,updateDgaWrapper:t}),json:Pe({json:e,updateDgaWrapper:t}),example:Je({updateDgaWrapper:t})},Ve,"array");return{TabDialog:S,...n}}function Me(e){let{draggableProps:t,index:n,formData:{register:r,errors:o,remove:s,trigger:l},externalData:{validateGenerator:i}}=e;const c=G(),u=(0,a.useCallback)((()=>c((async()=>await l()),1e3)),[c,l]);return a.createElement(m.Z,{spacing:1},a.createElement(m.Z,{direction:"row",spacing:1},a.createElement(z.Z,(0,A.Z)({label:"generator",sx:{width:300},size:"small"},r(`generatorArray.${n}.text`,{required:"Please enter the generator.",validate:i,onChange:u}))),a.createElement(L.Z,{title:"Delete this generator"},a.createElement($.Z,{onClick:()=>{s(n),l()},size:"small"},a.createElement(j.Z,{fontSize:"small"}))),a.createElement($.Z,(0,A.Z)({},t,{style:{cursor:"grab",touchAction:"none"}}),a.createElement(M.Z,null))),function(e){var t,n;let{errors:r,index:o}=e;const s=null==(t=r.generatorArray)?void 0:t[o];if(void 0===s)return;const l=null==(n=s.text)?void 0:n.message;return void 0!==l?a.createElement(V.Z,{severity:"error",sx:{whiteSpace:"pre-wrap"}},l):void 0}({errors:o,index:n}))}function ze(e){return JSON.parse(e).map((e=>({text:e})))}function Le(e){const t=e.map((e=>{let{text:t}=e;return t}));return JSON.stringify(t)}function $e(e){let{children:t}=e;return a.createElement(m.Z,{spacing:2},t)}function Ge(e){let{register:t,getValues:n,errors:r,trigger:o,control:s,validateGenerator:l,validateGeneratorArray:i}=e;const{fields:c,append:u,remove:d,move:g}=(0,q.Dq)({control:s,name:"generatorArray"}),f={register:t,remove:d,errors:r,getValues:n,trigger:o},y={validateGenerator:l};return a.createElement("div",null,a.createElement(m.Z,{spacing:2,sx:{marginTop:1}},a.createElement(N,{RowComponent:Me,Container:$e,fields:c,move:g,formData:f,externalData:y}),a.createElement(p.Z,{variant:"outlined",onClick:()=>u({text:""}),startIcon:a.createElement(O.Z,null),sx:{textTransform:"none"}},"Add a generator"),a.createElement("input",(0,A.Z)({hidden:!0,value:"dummy"},t("dummy",{validate:e=>{const t=n().generatorArray.map((e=>e.text));return i(t)}}))),function(e){if(void 0!==e.generatorArray)return;const t=e.dummy;if(void 0===t)return;const n=t.types;return void 0!==n?a.createElement(a.Fragment,null,Object.entries(n).map((e=>{let[t,n]=e;return a.createElement(V.Z,{severity:"error",key:t},n)}))):void 0}(r)))}function _e(e){let{idealJson:t,setIdealJson:n,validateGenerator:r,validateGeneratorArray:o}=e;const[s,l]=(0,a.useState)(!1),{idealEditorProps:i,getOnSubmit:c,beforeOpen:u,disableSubmit:m,preventQuit:d}=function(e){let{idealJson:t,setIdealJson:n,validateGenerator:r,validateGeneratorArray:o}=e;const{handleSubmit:s,register:l,getValues:i,reset:c,trigger:u,control:m,formState:{errors:d}}=(0,q.cI)({mode:"onBlur",reValidateMode:"onBlur",criteriaMode:"all",defaultValues:{generatorArray:ze(t)}}),p=(0,a.useCallback)((e=>{s((t=>{let{generatorArray:r}=t;n(Le(r)),e()}))()}),[n,s]),g=(0,a.useCallback)((()=>{const e=ze(t);c({generatorArray:e})}),[t,c]);return{idealEditorProps:{register:l,getValues:i,errors:d,trigger:u,control:m,validateGenerator:r,validateGeneratorArray:o},getOnSubmit:p,beforeOpen:g,disableSubmit:(0,a.useCallback)((()=>void 0!==d.generatorArray||void 0!==d.dummy),[d]),preventQuit:(0,a.useCallback)((()=>Le(i().generatorArray)!==t?"Your input is not saved. Are you sure you want to quit?":void 0),[i,t])}}({idealJson:t,setIdealJson:n,validateGenerator:r,validateGeneratorArray:o}),p=(0,a.useCallback)((()=>{u(),l(!0)}),[l,u]),g=(0,a.useCallback)((()=>{l(!1)}),[l]),f=(0,a.useCallback)((()=>{c(g)}),[c,g]),y=(0,a.useCallback)((()=>{const e=d();return void 0===e||window.confirm(e)}),[d]),E=(0,a.useCallback)((()=>{y()&&g()}),[y,g]);return{openDialog:p,idealEditorDialogProps:(0,a.useMemo)((()=>({open:s,onSubmit:f,tryToQuit:E,idealEditorProps:i,disableSubmit:m})),[s,f,E,i,m])}}function Fe(e){let{open:t,onSubmit:n,tryToQuit:r,idealEditorProps:o,disableSubmit:s}=e;const l=C();return a.createElement(E.Z,{open:t,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{[l]:{margin:0,width:"calc(100% - 5pt)"}}}},a.createElement(w.Z,null,a.createElement(Ge,o)),a.createElement(x.Z,null,a.createElement(p.Z,{onClick:n,variant:"contained",sx:{textTransform:"none"},disabled:s()},"Apply"),a.createElement(p.Z,{onClick:r,variant:"outlined"},"Cancel")))}function We(e){let{setIdealJson:t,idealInfo:n,idealJson:r,validateGenerator:o,validateGeneratorArray:s}=e;const{openDialog:l,idealEditorDialogProps:i}=_e({setIdealJson:t,idealJson:r,validateGenerator:o,validateGeneratorArray:s});return a.createElement("div",null,a.createElement(be,{styledMessage:n}),a.createElement(p.Z,{onClick:l,variant:"contained",sx:{textTransform:"none"}},"Edit ideal"),a.createElement(Fe,i))}const Re={dgaJson:"dgaJson",dgaDsv:"dgaDsv",idealDsv:"idealDsv",taretName:"target"},Be={parse:e=>e.split("."),stringify:e=>e.join(".")};function Qe(e){const t=JSON.parse(e);if(!function(e){if(!Array.isArray(e))return!1;for(const t of e)if(!Array.isArray(t)||3!==t.length||"string"!=typeof t[0]||"number"!=typeof t[1]||"string"!=typeof t[2]||t[0].includes(".")||t[2].includes("."))return!1;return!0}(t))return null;const n=t.map((e=>{let[t,n,r]=e;return[t,n.toString(),r]})).flat();return Be.stringify(n)}function qe(e){const t=function(e){const t=e.length/3;if(e.length%3!=0)throw new Error(`Invalid data from URL: "${e}"\nIts length must be divisible by 3, but was ${e.length}`);const n=[];for(let r=0;r<t;r++)n.push([e[3*r],parseInt(e[3*r+1]),e[3*r+2]]);return n}(Be.parse(e));return JSON.stringify(t)}function Ke(e){const t=JSON.parse(e);return function(e){if(!Array.isArray(e))return!1;for(const t of e)if("string"!=typeof t)return!1;return!0}(t)?Be.stringify(t):null}function He(e,t){switch(t){case"json":{const t=function(e){try{const t=JSON.parse(e);return JSON.stringify(t,null,void 0)}catch(t){if(t instanceof SyntaxError)return null;throw t}}(e);return null===t?null:[Re.dgaJson,t]}case"dsv":{const t=Qe(e);return null===t?null:[Re.dgaDsv,t]}case"auto":{const t=He(e,"dsv");if(null!==t)return t;const n=He(e,"json");return null!==n?n:null}}}var Ue=n(6775);function Xe(){const{search:e}=(0,Ue.TH)();return(0,a.useMemo)((()=>new URLSearchParams(e)),[e])}function Ye(){const e=Xe();try{const t=function(e){const t=e.get(Re.dgaJson);if(null!==t)return t;const n=e.get(Re.dgaDsv);return null!==n?qe(n):null}(e);return null===t?{type:"unspecified"}:{type:"success",value:K(t)}}catch(t){return t instanceof SyntaxError?{type:"error",message:`[Error] Invalid JSON is given as URL parameter.\n${t.message}`}:t instanceof Error?{type:"error",message:t.message}:(console.error(t),{type:"error",message:"[Error] Some error occurred while parsing URL parameter"})}}const et=["self","freeLoopSpace","cyclic","derivation","idealQuot"],tt=["basis","dim"];function nt(e,t,n){return(0,a.useEffect)((()=>{"error"===e.type&&n(e.message)}),[n,e.type,e.message]),"success"===e.type?e.value:t}function rt(e){const t=e.get(Re.idealDsv);return null===t||""===t?null:function(e){const t=Be.parse(e);return JSON.stringify(t)}(t)}var at=n(9368),ot=n(8456);function st(e){let{value:t}=e;return null===t?a.createElement(ot.Z,{size:20}):a.createElement(ot.Z,{variant:"determinate",value:t,size:20})}function lt(e){let{computing:t,progress:n,message:r,...o}=e;const s=o.disabled??!1,l=null===(i=n)?null:Math.floor(100*i);var i;return a.createElement(m.Z,null,a.createElement(p.Z,(0,A.Z)({},o,{disabled:s||t}),function(e,t){return e?null===t?"Computing":`Computing (${t}%)`:"Compute"}(t,l),t&&a.createElement(st,{value:l})),r)}function it(e){let{label:t,value:n,setValue:r,width:o,disabled:s}=e;return a.createElement(z.Z,{label:t,value:n,type:"number",onChange:e=>r(e.target.value),sx:{width:o},size:"small",disabled:s})}function ct(e){let{label:t,defaultValue:n,width:r,disabled:o}=e;const[s,l]=(0,a.useState)(n.toString()),i={label:t,value:s,setValue:l,width:void 0!==r?r:70,disabled:void 0!==o&&o};return[parseInt(s),i]}function ut(e){let{label:t,value:n,setValue:r,width:o,disabled:s}=e;return a.createElement(z.Z,{label:t,value:n,onChange:e=>r(e.target.value),sx:{width:o},size:"small",disabled:s})}function mt(e){switch(e){case"self":return"\\Lambda V";case"freeLoopSpace":return"\\Lambda V \\otimes \\Lambda \\overline{V}";case"cyclic":return"\\Lambda u \\otimes\\Lambda V \\otimes \\Lambda \\overline{V}";case"derivation":return"\\mathrm{Der}(\\Lambda V)";case"idealQuot":return"\\Lambda V / I"}}function dt(e,t){void 0===t&&(t=void 0);return`H^{${void 0!==t?t:"*"}}(${mt(e)})`}function pt(e){let{targetName:t,degree:n}=e;return a.createElement(c.Z,{math:dt(t,n)})}function gt(e){switch(e){case"self":return"H^*(X)";case"freeLoopSpace":return"H^*(LX)";case"cyclic":return"H^*_{S^1}(LX)";case"derivation":return"\\pi_{-*}(\\mathrm{aut}_1(X))\\otimes\\mathbb{Q}";case"idealQuot":return"H^*(\\Lambda V / I)"}}function ft(e){let{targetName:t}=e;return a.createElement(c.Z,{math:gt(t)})}function yt(e){return{computing:"computing"===e.status,workerProgress:"computing"===e.status?e.progress:null,message:"computing"===e.status?e.message:void 0}}function Et(e){let{targetName:t,postMessageToWorker:n,visible:r,workerInfo:o}=e;const[s,l]=ct({label:"",defaultValue:0}),[i,u]=ct({label:"",defaultValue:20}),[d,p]=(0,a.useState)("basis"),E=(0,a.useCallback)((e=>{e.preventDefault();n({command:"computeCohomology",targetName:t,minDegree:s,maxDegree:i,showCohomology:d})}),[t,s,i,d,n]);if(!r)return a.createElement(a.Fragment,null);const v=bt(t,"cohomology"),{computing:h,workerProgress:b}=yt(o);return a.createElement("form",{onSubmit:E,"data-testid":"ComputeCohomologyForm"},a.createElement(m.Z,{spacing:1},a.createElement("span",null,"Compute cohomology ",a.createElement(pt,{targetName:t,degree:"n"})," for"),a.createElement(m.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:1},a.createElement(it,l),a.createElement(c.Z,{math:"\\leq n \\leq"}),a.createElement(it,u)),a.createElement(g.Z,{row:!0,value:d,onChange:e=>p(e.target.value)},tt.map((e=>a.createElement(f.Z,{key:e,value:e,control:a.createElement(y.Z,null),label:e})))),a.createElement(lt,{type:"submit",variant:"contained",disabled:!v,computing:h,progress:b}),!v&&a.createElement(V.Z,{severity:"info"},"Currently, this type of computation is not supported.")))}function vt(e){let{targetName:t,postMessageToWorker:n,visible:r,workerInfo:o}=e;const s=bt(t,"class"),[l,i]=function(e){let{label:t,defaultValue:n,width:r,disabled:o}=e;const[s,l]=(0,a.useState)(n);return[s,{label:t,value:s,setValue:l,width:void 0!==r?r:70,disabled:void 0!==o&&o}]}({label:"",defaultValue:"x^2",width:200,disabled:!s}),[u,d]=(0,a.useState)(!0),p=(0,a.useCallback)((e=>{e.preventDefault();n({command:"computeCohomologyClass",targetName:t,cocycleString:l,showBasis:u})}),[t,l,u,n]);if(!r)return a.createElement(a.Fragment,null);const{computing:g,workerProgress:y}=yt(o);return a.createElement("form",{onSubmit:p,"data-testid":"ComputeClassForm"},a.createElement(m.Z,{spacing:1},a.createElement("span",null,"Compute cohomology class ",a.createElement(c.Z,{math:`[\\omega] \\in ${dt(t)}`})," for"),a.createElement(m.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:1},a.createElement(c.Z,{math:"\\omega ="}),a.createElement(ut,i)),a.createElement(f.Z,{control:a.createElement(at.Z,null),label:"Show basis",checked:u,onChange:e=>d(e.target.checked)}),a.createElement(lt,{type:"submit",variant:"contained",disabled:!s,computing:g,progress:y}),!s&&a.createElement(V.Z,{severity:"info"},"Currently, this type of computation is not supported.")))}function ht(e){let{targetName:t,postMessageToWorker:n,visible:r,workerInfo:o}=e;const[s,l]=ct({label:"",defaultValue:10}),i=(0,a.useCallback)((e=>{e.preventDefault();n({command:"computeMinimalModel",targetName:t,isomorphismUpTo:s})}),[t,s,n]);if(!r)return a.createElement(a.Fragment,null);const c=bt(t,"minimal"),{computing:u,workerProgress:d,message:p}=yt(o);return a.createElement("form",{onSubmit:i,"data-testid":"ComputeMinimalModel"},a.createElement(m.Z,{spacing:1},a.createElement(m.Z,{direction:"row",alignItems:"center",justifyContent:"center",spacing:1},"Compute minimal model until degree",a.createElement(it,l)),a.createElement(lt,{type:"submit",variant:"contained",disabled:!c,computing:u,progress:d,message:p}),!c&&a.createElement(V.Z,{severity:"info"},"Currently, this type of computation is not supported.")))}function bt(e,t){switch(e){case"self":case"cyclic":case"idealQuot":return!0;case"freeLoopSpace":switch(t){case"cohomology":case"class":return!0;case"minimal":return!1}case"derivation":switch(t){case"cohomology":return!0;case"class":case"minimal":return!1}}}function wt(e){let{targetName:t,postMessageToWorker:n,workerInfo:r}=e;const[o,s]=(0,a.useState)("cohomology");return a.createElement(a.Fragment,null,a.createElement(h.Z,{value:o,onChange:(e,t)=>{s(t)}},a.createElement(b.Z,{value:"cohomology",label:"Cohomology group",sx:{textTransform:"none"}}),a.createElement(b.Z,{value:"class",label:"Cohomology class",sx:{textTransform:"none"}}),a.createElement(b.Z,{value:"minimal",label:"Minimal model",sx:{textTransform:"none"}})),a.createElement(Et,{targetName:t,postMessageToWorker:n,visible:"cohomology"===o,workerInfo:r}),a.createElement(vt,{targetName:t,postMessageToWorker:n,visible:"class"===o,workerInfo:r}),a.createElement(ht,{targetName:t,postMessageToWorker:n,visible:"minimal"===o,workerInfo:r}))}function xt(e){let{setOpen:t}=e;return a.createElement(p.Z,{variant:"contained",size:"small",onClick:()=>t(!0)},"Restart")}function kt(e){let{open:t,setOpen:n,restart:r}=e;return a.createElement(E.Z,{open:t,onClose:()=>n(!1)},a.createElement(w.Z,null,"Are you sure to restart the background process (WebWorker)? This will stop the current computation (if exists) and clear the cache."),a.createElement(x.Z,null,a.createElement(p.Z,{onClick:()=>{r(),n(!1)},variant:"contained"},"Restart"),a.createElement(p.Z,{onClick:()=>n(!1),variant:"outlined"},"Cancel")))}var Ct=n(4996),Zt=n(2263),St=n(1160);function At(e){let{setOpen:t}=e;return a.createElement(p.Z,{onClick:()=>t(!0),sx:{textTransform:"none"},variant:"outlined",size:"small"},"Share this DGA")}function It(e){let{text:t}=e;const[n,r]=(0,a.useState)(!1);return a.createElement(L.Z,{title:"Copied",open:n,onClose:()=>r(!1)},a.createElement(p.Z,{onClick:()=>{navigator.clipboard.writeText(t),r(!0)},variant:"contained",size:"small"},"copy"))}function Dt(e){let{dgaJson:t,idealJson:n,targetName:r}=e;const o=function(e){let{dgaJson:t,format:n,idealJson:r,targetName:a}=e;const o=new URLSearchParams,s=He(t,n);if(null!==s){const[e,t]=s;o.append(e,t)}const l=Ke(r);return null!==l&&""!==l&&o.append(Re.idealDsv,l),o.append(Re.taretName,a),o}({dgaJson:t,format:"auto",idealJson:n,targetName:r}),s=`${function(){const e=(0,Zt.Z)();return(0,St.b)()?window.location.origin:e.siteConfig.url}()}${(0,Ct.Z)("calculator")}?${o.toString()}`;return a.createElement(a.Fragment,null,a.createElement(z.Z,{label:"url",value:s,sx:{width:300},size:"small",InputProps:{readOnly:!0},multiline:!0}),a.createElement(It,{text:s}))}function Tt(e){let{open:t,setOpen:n,dgaJson:r,idealJson:o,targetName:s}=e;const l=C();return a.createElement(E.Z,{open:t,onClose:()=>n(!1),PaperProps:{sx:{[l]:{margin:0,width:"calc(100% - 5pt)"}}}},a.createElement(w.Z,null,a.createElement(Dt,{dgaJson:r,idealJson:o,targetName:s})),a.createElement(x.Z,null,a.createElement(p.Z,{onClick:()=>n(!1),variant:"outlined"},"Close")))}var Jt=n(6798);function Pt(e){let{messages:t}=e;const[n,r]=(0,a.useState)(!0);if(0===t.length)return a.createElement(a.Fragment,null);const o=(e,t)=>{"clickaway"!==t&&r(!1)};return a.createElement(Jt.Z,{open:n,anchorOrigin:{vertical:"top",horizontal:"center"},onClose:o},a.createElement(V.Z,{severity:"error",onClose:o,variant:"filled",elevation:6},t.map(((e,t)=>a.createElement("div",{key:t,style:{whiteSpace:"pre-wrap"}},e)))))}var Nt=n(3905);const Ot={toc:[]},Vt="wrapper";function jt(e){let{components:t,...n}=e;return(0,Nt.kt)(Vt,(0,A.Z)({},Ot,n,{components:t,mdxType:"MDXLayout"}),(0,Nt.kt)("p",null,'Input a Sullivan algebra from the "Edit DGA" button'),(0,Nt.kt)("p",null,"This calculator can compute the cohomology of the Sullivan algebra, its Hochschild homology (cohomology of the free loop space), and its cyclic homology (equivariant cohomology of the free loop space)."),(0,Nt.kt)("p",null,'Note that "u" cannot be used as a generator when "cyclic" is selected, since "u" is reserved for the model of the cyclic homology.'))}function Mt(e){let{setOpen:t}=e;return a.createElement(p.Z,{onClick:()=>t(!0),sx:{textTransform:"none"},variant:"outlined",size:"small"},"Show usage")}function zt(e){let{open:t,setOpen:n}=e;return a.createElement(E.Z,{open:t,onClose:()=>n(!1)},a.createElement(w.Z,null,a.createElement(jt,null)),a.createElement(x.Z,null,a.createElement(p.Z,{onClick:()=>n(!1),variant:"outlined"},"Close")))}jt.isMDXComponent=!0;var Lt=n(1688);function $t(e){const t=(0,a.useContext)(e.reactContext),[n,r]=(0,a.useContext)(e.stateContext);(0,a.useEffect)((()=>{t.subscribe("__set_worker_state__",(e=>{const t=function(e){return"updateState"===e.type}(n=e)?{[n.key]:n.value}:null;var n;null!==t&&r((e=>({...e,...t})))}))}),[t,r]);const o=(0,a.useCallback)((e=>{const n="__useSyncExternalStore__";return t.subscribe(n,e),()=>t.unsubscribe(n)}),[t]),s=(0,a.useCallback)((()=>t.workerOutputLog),[t]),l=(0,Lt.useSyncExternalStore)(o,s),i=(0,a.useCallback)((e=>{const n={type:"input",value:e};t.postMessage(n)}),[t]),c=(0,a.useCallback)(((e,n)=>{t.subscribe(e,(e=>{"output"===e.type&&n(e.value)}))}),[t]),u=(0,a.useCallback)(((e,n)=>{t.subscribeRestart(e,n)}),[t]);return{postMessage:i,workerOutputLog:l,addListener:c,restart:(0,a.useCallback)((()=>t.restart()),[t]),addRestartListener:u,state:n,runAsync:(0,a.useCallback)((async(e,n)=>{const r=function(){const e=20,t=Gt.length,n=[];for(let r=0;r<e;r++)n.push(Gt.charAt(Math.floor(Math.random()*t)));return n.join("")}(),a={type:"callFunc",key:e,args:n,id:r},o=`runAsync-${r}`;return t.postMessage(a),new Promise(((n,a)=>{t.subscribe(o,(a=>{"funcResult"===a.type&&a.key===e&&a.id===r&&(t.unsubscribe(o),n(a.result))}))}))}),[t])}}const Gt="0123456789abcdef";class _t{onmessageFunctions=new Map;onRestartFunctions=new Map;workerOutputLog=[];constructor(e){this.createWorker=e,this.worker=this.createWorker(),this.worker.onmessage=e=>this.onmessage(e.data)}log(){"undefined"==typeof jest&&console.log(...arguments)}subscribe(e,t){this.onmessageFunctions.set(e,t),this.log(`subscribe: ${e}`)}unsubscribe(e){this.onmessageFunctions.delete(e),this.log(`unsubscribe: ${e}`)}subscribeRestart(e,t){this.onRestartFunctions.set(e,t),this.log(`subscribe restart: ${e}`)}unsubscribeRestart(e){this.onRestartFunctions.delete(e)}postMessage(e){this.worker.postMessage(e)}onmessage(e){this.workerOutputLog=[...this.workerOutputLog,e],this.onmessageFunctions.forEach((t=>t(e)))}terminate(){console.log("Worker terminated"),this.worker.terminate()}restart(){this.worker.terminate(),this.worker=this.createWorker(),this.worker.onmessage=e=>this.onmessage(e.data),this.onRestartFunctions.forEach((e=>e()))}static default(){return new _t((()=>({})))}}function Ft(e){const t=(0,a.useRef)(null);null===t.current&&(t.current=new _t(e.createWorker));const n=(0,a.useState)(e.defaultState),r=e.context,o=e.stateContext;return a.createElement(r.Provider,{value:t.current},a.createElement(o.Provider,{value:n},e.children))}const Wt=function(){const e=(0,a.createContext)(_t.default()),t=(0,a.createContext)([void 0,e=>{throw new Error("Not wrapped by provider")}]),n=function(e,t){return n=>{const r="defaultState"in n?n.defaultState:{};return a.createElement(Ft,{context:e,stateContext:t,createWorker:n.createWorker,defaultState:r},n.children)}}(e,t);return{reactContext:e,stateContext:t,Provider:n}}();function Rt(e){let{children:t,"data-testid":n}=e;return a.createElement("span",{"data-testid":n},a.createElement(u.Z,{disableGutters:!0,sx:{paddingLeft:1,paddingRight:1}},t))}function Bt(){const{array:e,push:t}=function(){const[e,t]=(0,a.useState)([]);return{array:e,push:(0,a.useCallback)((e=>{t((t=>[...t,e]))}),[t])}}(),n=nt(Ye(),Se(2),t),r=nt(function(){const e=Xe();try{const t=rt(e);return null===t?{type:"unspecified"}:{type:"success",value:t}}catch(t){return t instanceof Error?{type:"error",message:t.message}:(console.error(t),{type:"error",message:"[Error] Some error occurred while parsing URL parameter"})}}(),"[]",t),o=nt(function(){const e=Xe().get(Re.taretName);return null===e?{type:"unspecified"}:et.includes(e)?{type:"success",value:e}:{type:"error",message:`Invalid target name: ${e}`}}(),"self",t),{json:s,setJson:l,idealJson:i,setIdealJson:u,dgaInfo:E,idealInfo:v,workerInfo:h,postMessage:b,restart:w,runAsync:x}=function(e){let{defaultJson:t,defaultIdealJson:n,onmessage:r}=e;const{postMessage:o,addListener:s,addRestartListener:l,restart:i,state:{json:c,dgaInfo:u,idealJson:m,idealInfo:d,workerInfo:p},runAsync:g}=$t(Wt),f=(0,a.useCallback)((e=>{o({command:"updateJson",json:e})}),[o]),y=(0,a.useCallback)((e=>{o({command:"updateIdealJson",idealJson:e})}),[o]);return(0,a.useEffect)((()=>{s("useKohomologyWorker",r)}),[s,r]),(0,a.useEffect)((()=>{l("useKohomologyWorker",(()=>{f(c)}))}),[l,f,c]),(0,a.useEffect)((()=>{f(t),y(n)}),[f,t,y,n]),{json:c,setJson:f,idealJson:m,setIdealJson:y,dgaInfo:u,idealInfo:d,workerInfo:p,postMessage:o,restart:i,runAsync:g}}({defaultJson:n,defaultIdealJson:r,onmessage:e=>{}}),[k,C]=(0,a.useState)(o),{usageDialogProps:Z,usageButtonProps:S}=function(){const[e,t]=(0,a.useState)(!1);return{usageDialogProps:{open:e,setOpen:t},usageButtonProps:{setOpen:t}}}(),{restartDialogProps:A,restartButtonProps:I}=function(e){const[t,n]=(0,a.useState)(!1);return{restartDialogProps:{open:t,setOpen:n,restart:e},restartButtonProps:{setOpen:n}}}((()=>{w()})),{shareDGADialogProps:D,shareDGAButtonProps:T}=function(e){let{dgaJson:t,idealJson:n,targetName:r}=e;const[o,s]=(0,a.useState)(!1);return{shareDGADialogProps:{open:o,setOpen:s,dgaJson:t,idealJson:n,targetName:r},shareDGAButtonProps:{setOpen:s}}}({dgaJson:s,idealJson:i,targetName:k}),{TabDialog:J,tabDialogProps:P,openDialog:N}=je(s,l),O=(0,a.useCallback)((async e=>await x("validateIdealGenerator",[e])),[x]),V=(0,a.useCallback)((async e=>await x("validateIdealGeneratorArray",[e])),[x]);return a.createElement(a.Fragment,null,a.createElement(Pt,{messages:e}),a.createElement(m.Z,{direction:"column",spacing:2,divider:a.createElement(d.Z,{orientation:"horizontal"}),sx:{width:400,margin:1}},a.createElement(Rt,null,a.createElement(m.Z,{direction:"row",spacing:2},a.createElement(Mt,S),a.createElement(zt,Z),a.createElement(xt,I),a.createElement(kt,A))),a.createElement(Rt,{"data-testid":"CalculatorForm-StackItem-DGA"},"Input a Sullivan model of a space ",a.createElement(c.Z,{math:"X"}),":",a.createElement("div",null,E.map(((e,t)=>a.createElement(be,{styledMessage:e,key:t})))),a.createElement(m.Z,{direction:"row",spacing:2,sx:{marginTop:.5}},a.createElement(p.Z,{variant:"contained",size:"small",onClick:N,sx:{textTransform:"none"}},"Edit DGA"),a.createElement(J,P),a.createElement(At,T),a.createElement(Tt,D))),a.createElement(Rt,null,a.createElement(g.Z,{row:!0,value:k,onChange:e=>C(e.target.value)},et.map((e=>a.createElement(f.Z,{key:e,value:e,control:a.createElement(y.Z,{size:"small"}),label:a.createElement(ft,{targetName:e})})))),a.createElement(c.Z,{math:`\\cong ${dt(k)}`}),"idealQuot"===k&&a.createElement(We,{setIdealJson:u,idealInfo:v,idealJson:i,validateGenerator:O,validateGeneratorArray:V})),a.createElement(Rt,null,a.createElement(wt,{targetName:k,postMessageToWorker:e=>{b(e)},workerInfo:h}))))}var Qt=n(5113);function qt(e){const t=(0,a.useRef)(null);return(0,a.useEffect)((()=>{(()=>{const e=t.current;null!==e&&void 0!==e.scrollTo&&function(e){return e.scrollTop+50>=e.scrollHeight-e.clientHeight}(e)&&setTimeout((()=>{e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}))})()}),e),t}function Kt(e){let{messages:t}=e;const n=qt([t]);return a.createElement(Qt.Z,{elevation:0,variant:"outlined",ref:n,"data-testid":"calculator-results",sx:{width:"700px",height:"700px",overflowY:"scroll",padding:"5px","@media screen and (max-width: 700px)":{width:"100%",height:"50vh",margin:"3px"}}},t.map(((e,t)=>a.createElement(be,{styledMessage:e,key:t}))))}function Ht(){const{addListener:e,addRestartListener:t}=$t(Wt),n=[ke("success","Computation results will be shown here")],[r,o]=(0,a.useState)(n),s=(0,a.useCallback)((e=>{o(e instanceof Array?t=>t.concat(e):t=>t.concat([e]))}),[o]),l=(0,a.useCallback)((e=>{"printMessages"===e.command&&s(e.messages)}),[s]);return(0,a.useEffect)((()=>{e("MessageBoxForWorker",l)}),[e,l]),(0,a.useEffect)((()=>{t("MessageBoxForWorker",(()=>{s(ke("success","The background process is restarted."))}))}),[t,s]),a.createElement(Kt,{messages:r})}var Ut=n(2949),Xt=n(1265);function Yt(){const e=function(){const{colorMode:e}=(0,Ut.I)();return(0,a.useMemo)((()=>(0,Xt.Z)({palette:{mode:e,primary:{main:"#7e6ca8"}}})),[e])}();return a.createElement(s.Z,{theme:e},a.createElement(l.Z,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",paddingTop:"10px",paddingBottom:"10px"}},a.createElement(Wt.Provider,{createWorker:()=>new i,defaultState:{json:"[]",idealJson:"[]",dgaInfo:[],idealInfo:ke("success",""),workerInfo:{status:"idle"}}},a.createElement(Bt,null),a.createElement(Ht,null))))}function en(){return a.createElement(o.Z,{fallback:a.createElement("div",null,"Loading...")},(()=>a.createElement(Yt,null)))}function tn(){return a.createElement(r.Z,{title:"Calculator"},a.createElement(en,null))}}}]);